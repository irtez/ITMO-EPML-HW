{"config":{"lang":["ru"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"],"fields":{"title":{"boost":1000.0},"text":{"boost":1.0},"tags":{"boost":1000000.0}}},"docs":[{"location":"","title":"Boston Housing - ITMO EPML","text":"<p>\u041f\u0440\u043e\u0435\u043a\u0442 \u043a\u0443\u0440\u0441\u0430 Engineering Practices for Machine Learning (ITMO).</p> <p>\u0417\u0430\u0434\u0430\u0447\u0430 - \u043f\u0440\u0435\u0434\u0441\u043a\u0430\u0437\u0430\u043d\u0438\u0435 \u043c\u0435\u0434\u0438\u0430\u043d\u043d\u043e\u0439 \u0441\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u0438 \u0436\u0438\u043b\u044c\u044f (\u0432 \u0442\u044b\u0441. $) \u043f\u043e \u0434\u0430\u0442\u0430\u0441\u0435\u0442\u0443 Boston Housing \u0441 \u043f\u0440\u0438\u043c\u0435\u043d\u0435\u043d\u0438\u0435\u043c \u043b\u0443\u0447\u0448\u0438\u0445 \u043f\u0440\u0430\u043a\u0442\u0438\u043a ML-\u0438\u043d\u0436\u0438\u043d\u0438\u0440\u0438\u043d\u0433\u0430.</p>"},{"location":"#_1","title":"\u0427\u0442\u043e \u0434\u0435\u043b\u0430\u0435\u0442 \u043f\u0440\u043e\u0435\u043a\u0442","text":"<ul> <li>\u041e\u0431\u0443\u0447\u0430\u0435\u0442 \u0442\u0440\u0438 \u043c\u043e\u0434\u0435\u043b\u0438 scikit-learn (LinearRegression, Ridge, RandomForest)</li> <li>\u0423\u043f\u0440\u0430\u0432\u043b\u044f\u0435\u0442 \u0434\u0430\u043d\u043d\u044b\u043c\u0438 \u0447\u0435\u0440\u0435\u0437 DVC (\u0432\u0435\u0440\u0441\u0438\u043e\u043d\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435, \u0432\u043e\u0441\u043f\u0440\u043e\u0438\u0437\u0432\u043e\u0434\u0438\u043c\u044b\u0435 \u043f\u0430\u0439\u043f\u043b\u0430\u0439\u043d\u044b)</li> <li>\u041a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0438\u0440\u0443\u0435\u0442 \u044d\u043a\u0441\u043f\u0435\u0440\u0438\u043c\u0435\u043d\u0442\u044b \u0447\u0435\u0440\u0435\u0437 Hydra (composition, CLI-\u043e\u0432\u0435\u0440\u0440\u0430\u0439\u0434\u044b)</li> <li>\u0422\u0440\u0435\u043a\u0430\u0435\u0442 \u044d\u043a\u0441\u043f\u0435\u0440\u0438\u043c\u0435\u043d\u0442\u044b \u0432 MLflow (\u043b\u043e\u043a\u0430\u043b\u044c\u043d\u044b\u0439 SQLite backend)</li> <li>\u0418\u043d\u0442\u0435\u0433\u0440\u0438\u0440\u0443\u0435\u0442\u0441\u044f \u0441 ClearML (enterprise MLOps: \u0440\u0435\u0435\u0441\u0442\u0440 \u043c\u043e\u0434\u0435\u043b\u0435\u0439, \u043f\u0430\u0439\u043f\u043b\u0430\u0439\u043d\u044b, \u0430\u0433\u0435\u043d\u0442)</li> <li>\u041f\u0443\u0431\u043b\u0438\u043a\u0443\u0435\u0442 \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430\u0446\u0438\u044e \u0447\u0435\u0440\u0435\u0437 MkDocs + GitHub Pages</li> </ul>"},{"location":"#_2","title":"\u0421\u0442\u0435\u043a \u0442\u0435\u0445\u043d\u043e\u043b\u043e\u0433\u0438\u0439","text":"\u041a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044f \u0418\u043d\u0441\u0442\u0440\u0443\u043c\u0435\u043d\u0442 \u0412\u0435\u0440\u0441\u0438\u044f \u042f\u0437\u044b\u043a Python 3.10+ \u0423\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u0437\u0430\u0432\u0438\u0441\u0438\u043c\u043e\u0441\u0442\u044f\u043c\u0438 Poetry 1.8+ \u0424\u043e\u0440\u043c\u0430\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435/\u043b\u0438\u043d\u0442\u0438\u043d\u0433 Ruff 0.9.10 \u0422\u0438\u043f\u0438\u0437\u0430\u0446\u0438\u044f MyPy 1.15.0 (strict) \u0411\u0435\u0437\u043e\u043f\u0430\u0441\u043d\u043e\u0441\u0442\u044c Bandit 1.8.3 \u0422\u0435\u0441\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 pytest + pytest-cov 8.3.5 ML-\u0431\u0438\u0431\u043b\u0438\u043e\u0442\u0435\u043a\u0430 scikit-learn 1.5.2 \u0414\u0430\u043d\u043d\u044b\u0435 pandas, numpy 2.2.3, 1.26.4 \u0412\u0435\u0440\u0441\u0438\u043e\u043d\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u0434\u0430\u043d\u043d\u044b\u0445 DVC \u22653.66 \u041a\u043e\u043d\u0444\u0438\u0433 Hydra 1.3.2 \u0422\u0440\u0435\u043a\u0438\u043d\u0433 \u044d\u043a\u0441\u043f\u0435\u0440\u0438\u043c\u0435\u043d\u0442\u043e\u0432 MLflow \u22653.10 MLOps-\u043f\u043b\u0430\u0442\u0444\u043e\u0440\u043c\u0430 ClearML \u22651.16 \u0418\u043d\u0444\u0440\u0430\u0441\u0442\u0440\u0443\u043a\u0442\u0443\u0440\u0430 Docker + Compose - \u0414\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430\u0446\u0438\u044f MkDocs Material -"},{"location":"#_3","title":"\u0420\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u044b \u043c\u043e\u0434\u0435\u043b\u0438","text":"<p>\u041b\u0443\u0447\u0448\u0430\u044f \u043c\u043e\u0434\u0435\u043b\u044c - Random Forest - \u043d\u0430 \u0442\u0435\u0441\u0442\u043e\u0432\u043e\u0439 \u0432\u044b\u0431\u043e\u0440\u043a\u0435:</p> \u041c\u0435\u0442\u0440\u0438\u043a\u0430 \u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435 RMSE 3.45 \u0442\u044b\u0441. $ MAE 2.27 \u0442\u044b\u0441. $ R\u00b2 0.838"},{"location":"#_4","title":"\u0411\u044b\u0441\u0442\u0440\u044b\u0439 \u0441\u0442\u0430\u0440\u0442","text":"<pre><code>git clone &lt;repo-url&gt;\ncd ITMO-EPML-HW\npoetry install\npoetry run dvc pull\npoetry run dvc repro\n</code></pre> <p>\u0421\u043c\u043e\u0442\u0440\u0438\u0442\u0435 \u0420\u0443\u043a\u043e\u0432\u043e\u0434\u0441\u0442\u0432\u043e \u043f\u043e \u0440\u0430\u0437\u0432\u0435\u0440\u0442\u044b\u0432\u0430\u043d\u0438\u044e \u0434\u043b\u044f \u0434\u0435\u0442\u0430\u043b\u044c\u043d\u044b\u0445 \u0438\u043d\u0441\u0442\u0440\u0443\u043a\u0446\u0438\u0439.</p>"},{"location":"#_5","title":"\u0421\u0442\u0440\u0443\u043a\u0442\u0443\u0440\u0430 \u0434\u043e\u043c\u0430\u0448\u043d\u0438\u0445 \u0437\u0430\u0434\u0430\u043d\u0438\u0439","text":"\u0414\u0417 \u0422\u0435\u043c\u0430 \u041a\u043b\u044e\u0447\u0435\u0432\u044b\u0435 \u0430\u0440\u0442\u0435\u0444\u0430\u043a\u0442\u044b HW1 \u0418\u043d\u0438\u0446\u0438\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u044f \u043f\u0440\u043e\u0435\u043a\u0442\u0430 cookiecutter-\u0448\u0430\u0431\u043b\u043e\u043d, \u0441\u0442\u0440\u0443\u043a\u0442\u0443\u0440\u0430 HW2 DVC + MLflow <code>dvc.yaml</code>, \u0432\u0435\u0440\u0441\u0438\u043e\u043d\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u044b\u0435 \u0434\u0430\u043d\u043d\u044b\u0435 HW3 \u0422\u0440\u0435\u043a\u0438\u043d\u0433 \u044d\u043a\u0441\u043f\u0435\u0440\u0438\u043c\u0435\u043d\u0442\u043e\u0432 21 \u0437\u0430\u043f\u0443\u0441\u043a MLflow, \u043e\u0442\u0447\u0451\u0442 HW4 \u0410\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0437\u0430\u0446\u0438\u044f \u043f\u0430\u0439\u043f\u043b\u0430\u0439\u043d\u0430 DVC DAG (6 \u0441\u0442\u0430\u0434\u0438\u0439), Hydra HW5 ClearML MLOps Docker Compose, \u0440\u0435\u0435\u0441\u0442\u0440 \u043c\u043e\u0434\u0435\u043b\u0435\u0439, \u043f\u0430\u0439\u043f\u043b\u0430\u0439\u043d HW6 \u0414\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430\u0446\u0438\u044f \u0438 \u043e\u0442\u0447\u0451\u0442\u044b MkDocs, GitHub Pages, \u044d\u0442\u043e\u0442 \u0441\u0430\u0439\u0442"},{"location":"deployment/","title":"\u0420\u0443\u043a\u043e\u0432\u043e\u0434\u0441\u0442\u0432\u043e \u043f\u043e \u0440\u0430\u0437\u0432\u0435\u0440\u0442\u044b\u0432\u0430\u043d\u0438\u044e","text":""},{"location":"deployment/#_2","title":"\u041f\u0440\u0435\u0434\u0432\u0430\u0440\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u0435 \u0442\u0440\u0435\u0431\u043e\u0432\u0430\u043d\u0438\u044f","text":"\u0418\u043d\u0441\u0442\u0440\u0443\u043c\u0435\u043d\u0442 \u0412\u0435\u0440\u0441\u0438\u044f \u0421\u0441\u044b\u043b\u043a\u0430 Python 3.10+ python.org Poetry 1.8+ python-poetry.org Git \u043b\u044e\u0431\u0430\u044f - Docker + Compose 24+ docker.com (\u0442\u043e\u043b\u044c\u043a\u043e \u0434\u043b\u044f ClearML)"},{"location":"deployment/#1","title":"1. \u041a\u043b\u043e\u043d\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u0438 \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u043a\u0430 \u0437\u0430\u0432\u0438\u0441\u0438\u043c\u043e\u0441\u0442\u0435\u0439","text":"<pre><code># \u041a\u043b\u043e\u043d\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0440\u0435\u043f\u043e\u0437\u0438\u0442\u043e\u0440\u0438\u0439\ngit clone &lt;repo-url&gt;\ncd ITMO-EPML-HW\n\n# \u0423\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c \u0437\u0430\u0432\u0438\u0441\u0438\u043c\u043e\u0441\u0442\u0438 (Poetry \u0441\u043e\u0437\u0434\u0430\u0451\u0442 .venv \u0430\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u0438)\npoetry install\n\n# \u0410\u043a\u0442\u0438\u0432\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0432\u0438\u0440\u0442\u0443\u0430\u043b\u044c\u043d\u043e\u0435 \u043e\u043a\u0440\u0443\u0436\u0435\u043d\u0438\u0435\npoetry shell\n</code></pre>"},{"location":"deployment/#2-dvc","title":"2. \u0414\u0430\u043d\u043d\u044b\u0435 (DVC)","text":"<p>\u0414\u0430\u043d\u043d\u044b\u0435 \u0445\u0440\u0430\u043d\u044f\u0442\u0441\u044f \u0432 DVC-remote (\u043b\u043e\u043a\u0430\u043b\u044c\u043d\u0430\u044f \u043f\u0430\u043f\u043a\u0430 <code>~/dvc-storage</code>).</p> <pre><code># \u0421\u043a\u0430\u0447\u0430\u0442\u044c \u0434\u0430\u043d\u043d\u044b\u0435 \u0438\u0437 DVC remote\npoetry run dvc pull\n\n# \u041f\u0440\u043e\u0432\u0435\u0440\u0438\u0442\u044c \u0441\u0442\u0440\u0443\u043a\u0442\u0443\u0440\u0443 \u0434\u0430\u043d\u043d\u044b\u0445\nls data/raw/   # housing.csv\nls data/processed/   # train.csv, test.csv (\u043f\u043e\u0441\u043b\u0435 dvc repro)\n</code></pre> <p>DVC remote</p> <p>\u041f\u0440\u0438 \u043f\u0435\u0440\u0432\u043e\u043c \u0440\u0430\u0437\u0432\u0451\u0440\u0442\u044b\u0432\u0430\u043d\u0438\u0438 \u0443\u0431\u0435\u0434\u0438\u0442\u0435\u0441\u044c, \u0447\u0442\u043e DVC remote \u043d\u0430\u0441\u0442\u0440\u043e\u0435\u043d: <pre><code>poetry run dvc remote list\n</code></pre></p>"},{"location":"deployment/#3-ml-","title":"3. \u0417\u0430\u043f\u0443\u0441\u043a ML-\u043f\u0430\u0439\u043f\u043b\u0430\u0439\u043d\u0430","text":"<pre><code># \u0417\u0430\u043f\u0443\u0441\u0442\u0438\u0442\u044c \u0432\u0435\u0441\u044c \u043f\u0430\u0439\u043f\u043b\u0430\u0439\u043d (6 \u0441\u0442\u0430\u0434\u0438\u0439)\npoetry run dvc repro\n\n# \u041f\u0440\u043e\u0432\u0435\u0440\u0438\u0442\u044c \u043c\u0435\u0442\u0440\u0438\u043a\u0438\npoetry run dvc metrics show\n</code></pre> <p>\u041f\u0430\u0439\u043f\u043b\u0430\u0439\u043d: <code>prepare \u2192 train_{lr,ridge,rf} \u2192 select_best \u2192 evaluate</code></p>"},{"location":"deployment/#4-mlflow","title":"4. MLflow (\u0442\u0440\u0435\u043a\u0438\u043d\u0433 \u044d\u043a\u0441\u043f\u0435\u0440\u0438\u043c\u0435\u043d\u0442\u043e\u0432)","text":"<p>MLflow \u0440\u0430\u0431\u043e\u0442\u0430\u0435\u0442 \u043b\u043e\u043a\u0430\u043b\u044c\u043d\u043e \u0441 SQLite \u0431\u044d\u043a\u0435\u043d\u0434\u043e\u043c (\u0444\u0430\u0439\u043b <code>mlflow.db</code> \u043d\u0435 \u043a\u043e\u043c\u043c\u0438\u0442\u0438\u0442\u0441\u044f \u0432 git).</p> <pre><code># \u0417\u0430\u043f\u0443\u0441\u0442\u0438\u0442\u044c UI\npoetry run mlflow ui --backend-store-uri sqlite:///mlflow.db --port 5000\n# \u041e\u0442\u043a\u0440\u044b\u0442\u044c: http://localhost:5000\n</code></pre> <p>\u0417\u0430\u043f\u0443\u0441\u043a \u0440\u0430\u0441\u0448\u0438\u0440\u0435\u043d\u043d\u043e\u0433\u043e \u043d\u0430\u0431\u043e\u0440\u0430 \u044d\u043a\u0441\u043f\u0435\u0440\u0438\u043c\u0435\u043d\u0442\u043e\u0432 (HW3, 21 \u043f\u0440\u043e\u0433\u043e\u043d):</p> <pre><code>poetry run python scripts/run_experiments.py\n</code></pre>"},{"location":"deployment/#5-clearml-mlops-","title":"5. ClearML (MLOps-\u043f\u043b\u0430\u0442\u0444\u043e\u0440\u043c\u0430)","text":""},{"location":"deployment/#51-clearml-server","title":"5.1 \u041f\u043e\u0434\u043d\u044f\u0442\u044c ClearML Server","text":"<pre><code>cd infra/clearml\ncp .env.example .env\n# \u041e\u0442\u0440\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c .env (API keys)\ndocker compose up -d\n</code></pre> <p>\u041f\u043e\u0441\u043b\u0435 \u0437\u0430\u043f\u0443\u0441\u043a\u0430:</p> \u0421\u0435\u0440\u0432\u0438\u0441 URL Web UI http://localhost:8080 API http://localhost:8008 File server http://localhost:8081"},{"location":"deployment/#52","title":"5.2 \u041d\u0430\u0441\u0442\u0440\u043e\u0438\u0442\u044c \u043a\u043b\u0438\u0435\u043d\u0442","text":"<pre><code>cd ../..\ncp conf/clearml/clearml.conf.example clearml.conf\nexport CLEARML_API_ACCESS_KEY=&lt;your-key&gt;\nexport CLEARML_API_SECRET_KEY=&lt;your-secret&gt;\nexport CLEARML_CONFIG_FILE=$PWD/clearml.conf\n</code></pre>"},{"location":"deployment/#53-clearml","title":"5.3 \u0417\u0430\u043f\u0443\u0441\u0442\u0438\u0442\u044c \u0441 ClearML","text":"<pre><code># \u0412\u043a\u043b\u044e\u0447\u0438\u0442\u044c ClearML \u0442\u0440\u0435\u043a\u0438\u043d\u0433 (\u0432 conf/pipeline.yaml: clearml.enabled: true)\npoetry run dvc repro\n\n# \u0418\u043b\u0438 \u0437\u0430\u043f\u0443\u0441\u0442\u0438\u0442\u044c ClearML Pipeline Controller\npoetry run python scripts/clearml_pipeline.py clearml.enabled=true\n</code></pre>"},{"location":"deployment/#54-clearml-agent","title":"5.4 ClearML Agent (\u043e\u043f\u0446\u0438\u043e\u043d\u0430\u043b\u044c\u043d\u043e)","text":"<pre><code>cd infra/clearml\ndocker compose --profile agent up -d clearml-agent\n</code></pre>"},{"location":"deployment/#6-docker","title":"6. Docker (\u0430\u0432\u0442\u043e\u043d\u043e\u043c\u043d\u044b\u0439 \u0437\u0430\u043f\u0443\u0441\u043a \u043f\u0430\u0439\u043f\u043b\u0430\u0439\u043d\u0430)","text":"<pre><code># \u0421\u043e\u0431\u0440\u0430\u0442\u044c \u043e\u0431\u0440\u0430\u0437\ndocker build -t housing:latest .\n\n# \u0417\u0430\u043f\u0443\u0441\u0442\u0438\u0442\u044c \u043f\u0430\u0439\u043f\u043b\u0430\u0439\u043d \u0432\u043d\u0443\u0442\u0440\u0438 \u043a\u043e\u043d\u0442\u0435\u0439\u043d\u0435\u0440\u0430\ndocker run --rm housing:latest\n</code></pre> <p>\u041e\u0431\u0440\u0430\u0437: multi-stage build (builder + runtime), \u0437\u0430\u043f\u0443\u0441\u043a \u043e\u0442 non-root \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f.</p>"},{"location":"deployment/#7-mkdocs","title":"7. \u0414\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430\u0446\u0438\u044f (MkDocs)","text":"<pre><code># \u0423\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c \u0437\u0430\u0432\u0438\u0441\u0438\u043c\u043e\u0441\u0442\u0438 \u0434\u043b\u044f \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430\u0446\u0438\u0438\npip install mkdocs mkdocs-material\n\n# \u0417\u0430\u043f\u0443\u0441\u0442\u0438\u0442\u044c \u043b\u043e\u043a\u0430\u043b\u044c\u043d\u043e\nmkdocs serve\n# \u041e\u0442\u043a\u0440\u044b\u0442\u044c: http://127.0.0.1:8000\n\n# \u0421\u043e\u0431\u0440\u0430\u0442\u044c \u0441\u0442\u0430\u0442\u0438\u043a\u0443\nmkdocs build\n\n# \u0417\u0430\u0434\u0435\u043f\u043b\u043e\u0438\u0442\u044c \u043d\u0430 GitHub Pages\nmkdocs gh-deploy --force\n</code></pre>"},{"location":"deployment/#8","title":"8. \u0418\u043d\u0441\u0442\u0440\u0443\u043c\u0435\u043d\u0442\u044b \u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u043a\u0438","text":"<pre><code># \u0424\u043e\u0440\u043c\u0430\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435\npoetry run ruff format .\n\n# \u041b\u0438\u043d\u0442\u0438\u043d\u0433 (\u0441 \u0430\u0432\u0442\u043e\u0438\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435\u043c)\npoetry run ruff check . --fix\n\n# \u041f\u0440\u043e\u0432\u0435\u0440\u043a\u0430 \u0442\u0438\u043f\u043e\u0432\npoetry run mypy src/\n\n# \u0411\u0435\u0437\u043e\u043f\u0430\u0441\u043d\u043e\u0441\u0442\u044c\npoetry run bandit -c pyproject.toml -r src/\n\n# \u0422\u0435\u0441\u0442\u044b \u0441 \u043f\u043e\u043a\u0440\u044b\u0442\u0438\u0435\u043c\npoetry run pytest\n\n# Pre-commit \u0445\u0443\u043a\u0438 (\u043e\u0434\u0438\u043d \u0440\u0430\u0437)\npoetry run pre-commit install\n\n# \u0417\u0430\u043f\u0443\u0441\u0442\u0438\u0442\u044c \u0432\u0441\u0435 \u0445\u0443\u043a\u0438 \u0432\u0440\u0443\u0447\u043d\u0443\u044e\npoetry run pre-commit run --all-files\n</code></pre>"},{"location":"experiments/","title":"\u0420\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u044b \u044d\u043a\u0441\u043f\u0435\u0440\u0438\u043c\u0435\u043d\u0442\u043e\u0432","text":""},{"location":"experiments/#dvc-","title":"\u0421\u0432\u043e\u0434\u043d\u0430\u044f \u0442\u0430\u0431\u043b\u0438\u0446\u0430 \u043c\u043e\u0434\u0435\u043b\u0435\u0439 (DVC-\u043f\u0430\u0439\u043f\u043b\u0430\u0439\u043d)","text":"<p>\u0420\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u044b \u0437\u0430\u043f\u0443\u0441\u043a\u0430 <code>dvc repro</code> - \u0441\u0440\u0430\u0432\u043d\u0435\u043d\u0438\u0435 \u0442\u0440\u0451\u0445 \u0430\u043b\u0433\u043e\u0440\u0438\u0442\u043c\u043e\u0432:</p> \u041c\u043e\u0434\u0435\u043b\u044c Train RMSE Val RMSE Val MAE Val R\u00b2 \u0421\u0442\u0430\u0442\u0443\u0441 Linear Regression 4.627 4.826 3.211 0.672 - Ridge (\u03b1=1.0) 4.627 4.825 3.202 0.673 - Random Forest 1.651 3.776 2.499 0.799 \u2705 Best <p>\u041b\u0443\u0447\u0448\u0430\u044f \u043c\u043e\u0434\u0435\u043b\u044c: Random Forest (\u0432\u044b\u0431\u043e\u0440 \u043f\u043e \u043c\u0438\u043d\u0438\u043c\u0430\u043b\u044c\u043d\u043e\u043c\u0443 <code>val_rmse</code>)</p>"},{"location":"experiments/#_2","title":"\u0420\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u044b \u043d\u0430 \u0442\u0435\u0441\u0442\u043e\u0432\u043e\u0439 \u0432\u044b\u0431\u043e\u0440\u043a\u0435","text":"<p>\u041e\u0446\u0435\u043d\u043a\u0430 \u043b\u0443\u0447\u0448\u0435\u0439 \u043c\u043e\u0434\u0435\u043b\u0438 (Random Forest) \u043d\u0430 \u043e\u0442\u043b\u043e\u0436\u0435\u043d\u043d\u043e\u0439 \u0442\u0435\u0441\u0442\u043e\u0432\u043e\u0439 \u0432\u044b\u0431\u043e\u0440\u043a\u0435:</p> \u041c\u0435\u0442\u0440\u0438\u043a\u0430 \u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435 \u0418\u043d\u0442\u0435\u0440\u043f\u0440\u0435\u0442\u0430\u0446\u0438\u044f RMSE 3.449 \u0442\u044b\u0441. $ \u0421\u0440\u0435\u0434\u043d\u0435\u043a\u0432\u0430\u0434\u0440\u0430\u0442\u0438\u0447\u043d\u0430\u044f \u043e\u0448\u0438\u0431\u043a\u0430 MAE 2.269 \u0442\u044b\u0441. $ \u0421\u0440\u0435\u0434\u043d\u044f\u044f \u0430\u0431\u0441\u043e\u043b\u044e\u0442\u043d\u0430\u044f \u043e\u0448\u0438\u0431\u043a\u0430 R\u00b2 0.838 \u041e\u0431\u044a\u044f\u0441\u043d\u0435\u043d\u043e ~84% \u0434\u0438\u0441\u043f\u0435\u0440\u0441\u0438\u0438"},{"location":"experiments/#_3","title":"\u0410\u043d\u0430\u043b\u0438\u0437 \u043f\u0435\u0440\u0435\u043e\u0431\u0443\u0447\u0435\u043d\u0438\u044f","text":"<p>\u0421\u0440\u0430\u0432\u043d\u0435\u043d\u0438\u0435 train vs val RMSE \u043f\u043e\u043a\u0430\u0437\u044b\u0432\u0430\u0435\u0442 \u0441\u0442\u0435\u043f\u0435\u043d\u044c \u043f\u0435\u0440\u0435\u043e\u0431\u0443\u0447\u0435\u043d\u0438\u044f:</p> \u041c\u043e\u0434\u0435\u043b\u044c Train RMSE Val RMSE Gap \u041f\u0435\u0440\u0435\u043e\u0431\u0443\u0447\u0435\u043d\u0438\u0435 Linear Regression 4.627 4.826 0.199 \u041c\u0438\u043d\u0438\u043c\u0430\u043b\u044c\u043d\u043e\u0435 Ridge (\u03b1=1.0) 4.627 4.825 0.198 \u041c\u0438\u043d\u0438\u043c\u0430\u043b\u044c\u043d\u043e\u0435 Random Forest 1.651 3.776 2.125 \u0423\u043c\u0435\u0440\u0435\u043d\u043d\u043e\u0435 <p>\u0412\u044b\u0432\u043e\u0434</p> <p>Linear Regression \u0438 Ridge \u043f\u043e\u0447\u0442\u0438 \u043d\u0435 \u043f\u0435\u0440\u0435\u043e\u0431\u0443\u0447\u0430\u044e\u0442\u0441\u044f (\u043c\u0430\u043b\u0435\u043d\u044c\u043a\u0438\u0439 gap), \u043d\u043e \u0438\u0445 \u043a\u0430\u0447\u0435\u0441\u0442\u0432\u043e \u0445\u0443\u0436\u0435. Random Forest \u043f\u0435\u0440\u0435\u043e\u0431\u0443\u0447\u0430\u0435\u0442\u0441\u044f \u0443\u043c\u0435\u0440\u0435\u043d\u043d\u043e, \u043d\u043e \u0434\u0430\u0451\u0442 \u043d\u0430\u0438\u043b\u0443\u0447\u0448\u0435\u0435 \u043a\u0430\u0447\u0435\u0441\u0442\u0432\u043e \u043d\u0430 \u0432\u0430\u043b\u0438\u0434\u0430\u0446\u0438\u0438 \u0438 \u0442\u0435\u0441\u0442\u0435.</p>"},{"location":"experiments/#hw3-21","title":"\u0420\u0430\u0441\u0448\u0438\u0440\u0435\u043d\u043d\u044b\u0439 \u043d\u0430\u0431\u043e\u0440 \u044d\u043a\u0441\u043f\u0435\u0440\u0438\u043c\u0435\u043d\u0442\u043e\u0432 (HW3, 21 \u043f\u0440\u043e\u0433\u043e\u043d)","text":"<p>\u0412 \u0440\u0430\u043c\u043a\u0430\u0445 HW3 \u0437\u0430\u043f\u0443\u0449\u0435\u043d \u0440\u0430\u0441\u0448\u0438\u0440\u0435\u043d\u043d\u044b\u0439 \u043d\u0430\u0431\u043e\u0440 \u044d\u043a\u0441\u043f\u0435\u0440\u0438\u043c\u0435\u043d\u0442\u043e\u0432 \u0447\u0435\u0440\u0435\u0437 <code>scripts/run_experiments.py</code> \u0441 \u0441\u0435\u0442\u043a\u043e\u0439 \u0433\u0438\u043f\u0435\u0440\u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u043e\u0432:</p>"},{"location":"experiments/#linear-regression","title":"Linear Regression","text":"<ul> <li>\u0411\u0435\u0437 \u0433\u0438\u043f\u0435\u0440\u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u043e\u0432 (1 \u0432\u0430\u0440\u0438\u0430\u043d\u0442)</li> </ul>"},{"location":"experiments/#ridge","title":"Ridge","text":"<ul> <li><code>alpha</code>: 0.01, 0.1, 1.0, 10.0, 100.0 (5 \u0432\u0430\u0440\u0438\u0430\u043d\u0442\u043e\u0432)</li> </ul>"},{"location":"experiments/#random-forest","title":"Random Forest","text":"<ul> <li><code>n_estimators</code>: 50, 100, 200</li> <li><code>max_depth</code>: 5, 10, None</li> <li>\u0418\u0442\u043e\u0433\u043e: 9 \u0432\u0430\u0440\u0438\u0430\u043d\u0442\u043e\u0432 (3\u00d73)</li> </ul>"},{"location":"experiments/#lasso","title":"Lasso (\u043e\u043f\u0446\u0438\u043e\u043d\u0430\u043b\u044c\u043d\u043e)","text":"<ul> <li><code>alpha</code>: 0.01, 0.1, 1.0, 10.0, 100.0 (5 \u0432\u0430\u0440\u0438\u0430\u043d\u0442\u043e\u0432)</li> </ul> <p>\u0418\u0442\u043e\u0433\u043e: 21 \u044d\u043a\u0441\u043f\u0435\u0440\u0438\u043c\u0435\u043d\u0442, \u0437\u0430\u043b\u043e\u0433\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u044b\u0445 \u0432 MLflow.</p> <p>\u0420\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u044b \u0434\u043e\u0441\u0442\u0443\u043f\u043d\u044b \u0432 MLflow UI:</p> <pre><code>poetry run mlflow ui --backend-store-uri sqlite:///mlflow.db --port 5000\n# http://localhost:5000\n</code></pre>"},{"location":"experiments/#_4","title":"\u0412\u0438\u0437\u0443\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u0438","text":"<p>\u0414\u043b\u044f \u0433\u0435\u043d\u0435\u0440\u0430\u0446\u0438\u0438 \u0433\u0440\u0430\u0444\u0438\u043a\u043e\u0432 \u0437\u0430\u043f\u0443\u0441\u0442\u0438\u0442\u0435:</p> <pre><code>poetry run python scripts/generate_report.py\n</code></pre> <p>\u0421\u043e\u0437\u0434\u0430\u044e\u0442\u0441\u044f \u0444\u0430\u0439\u043b\u044b \u0432 <code>reports/figures/hw6/</code>:</p> <ul> <li><code>model_comparison.png</code> - \u0441\u0440\u0430\u0432\u043d\u0435\u043d\u0438\u0435 \u043c\u043e\u0434\u0435\u043b\u0435\u0439 \u043f\u043e \u0432\u0441\u0435\u043c \u043c\u0435\u0442\u0440\u0438\u043a\u0430\u043c</li> <li><code>train_val_gap.png</code> - train vs val RMSE (\u0430\u043d\u0430\u043b\u0438\u0437 \u043f\u0435\u0440\u0435\u043e\u0431\u0443\u0447\u0435\u043d\u0438\u044f)</li> <li><code>test_metrics.png</code> - \u0438\u0442\u043e\u0433\u043e\u0432\u044b\u0435 \u043c\u0435\u0442\u0440\u0438\u043a\u0438 \u043d\u0430 \u0442\u0435\u0441\u0442\u0435</li> </ul>"},{"location":"experiments/#_5","title":"\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b \u043c\u043e\u0434\u0435\u043b\u0435\u0439","text":""},{"location":"experiments/#linear-regression_1","title":"Linear Regression","text":"<pre><code>kind: linear_regression\nparams: {}  # \u043d\u0435\u0442 \u0433\u0438\u043f\u0435\u0440\u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u043e\u0432\n</code></pre>"},{"location":"experiments/#ridge_1","title":"Ridge","text":"<pre><code>kind: ridge\nparams:\n  alpha: 1.0\n</code></pre>"},{"location":"experiments/#random-forest_1","title":"Random Forest","text":"<pre><code>kind: random_forest\nparams:\n  n_estimators: 100\n  max_depth: 10\n</code></pre>"},{"location":"experiments/#_6","title":"\u041a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u044f \u0434\u0430\u043d\u043d\u044b\u0445","text":"\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440 \u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435 \u0414\u0430\u0442\u0430\u0441\u0435\u0442 Boston Housing (506 \u043f\u0440\u0438\u043c\u0435\u0440\u043e\u0432) Test size 20% (102 \u043f\u0440\u0438\u043c\u0435\u0440\u0430) Val size 20% \u043e\u0442 train (81 \u043f\u0440\u0438\u043c\u0435\u0440) Train ~323 \u043f\u0440\u0438\u043c\u0435\u0440\u0430 Random state 42 \u041d\u043e\u0440\u043c\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u044f StandardScaler"},{"location":"pipeline/","title":"ML-\u043f\u0430\u0439\u043f\u043b\u0430\u0439\u043d","text":""},{"location":"pipeline/#_1","title":"\u0410\u0440\u0445\u0438\u0442\u0435\u043a\u0442\u0443\u0440\u0430","text":"<p>\u041f\u0430\u0439\u043f\u043b\u0430\u0439\u043d \u0438\u0437 6 \u0441\u0442\u0430\u0434\u0438\u0439, \u043e\u043f\u0440\u0435\u0434\u0435\u043b\u0451\u043d\u043d\u044b\u0439 \u0432 <code>dvc.yaml</code> \u0438 \u0437\u0430\u043f\u0443\u0441\u043a\u0430\u0435\u043c\u044b\u0439 \u0447\u0435\u0440\u0435\u0437 DVC:</p> <pre><code>flowchart TD\n    A[data/raw/housing.csv] --&gt; B[prepare]\n    B --&gt; C[train_linear_regression]\n    B --&gt; D[train_ridge]\n    B --&gt; E[train_random_forest]\n    C --&gt; F[select_best]\n    D --&gt; F\n    E --&gt; F\n    F --&gt; G[evaluate]\n    G --&gt; H[metrics/test_metrics.json]</code></pre>"},{"location":"pipeline/#_2","title":"\u0421\u0442\u0430\u0434\u0438\u0438","text":""},{"location":"pipeline/#stage-1-prepare","title":"Stage 1: prepare","text":"<p>\u0421\u043a\u0440\u0438\u043f\u0442: <code>scripts/prepare.py</code></p> <p>\u0417\u0430\u0433\u0440\u0443\u0436\u0430\u0435\u0442 \u0441\u044b\u0440\u044b\u0435 \u0434\u0430\u043d\u043d\u044b\u0435 \u0438 \u0434\u0435\u043b\u0438\u0442 \u043d\u0430 \u043e\u0431\u0443\u0447\u0430\u044e\u0449\u0443\u044e/\u0442\u0435\u0441\u0442\u043e\u0432\u0443\u044e \u0432\u044b\u0431\u043e\u0440\u043a\u0438.</p> \u0412\u0445\u043e\u0434\u043d\u044b\u0435 \u0434\u0430\u043d\u043d\u044b\u0435 <code>data/raw/housing.csv</code> \u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b <code>prepare.test_size</code>, <code>prepare.random_state</code> \u0412\u044b\u0445\u043e\u0434\u043d\u044b\u0435 \u0434\u0430\u043d\u043d\u044b\u0435 <code>data/processed/train.csv</code>, <code>data/processed/test.csv</code> <pre><code>poetry run python scripts/prepare.py\n</code></pre>"},{"location":"pipeline/#stages-24-train_model","title":"Stages 2\u20134: train_{model}","text":"<p>\u0421\u043a\u0440\u0438\u043f\u0442: <code>scripts/train.py</code></p> <p>\u041e\u0431\u0443\u0447\u0430\u0435\u0442 \u043e\u0434\u043d\u0443 \u043c\u043e\u0434\u0435\u043b\u044c, \u0432\u044b\u0447\u0438\u0441\u043b\u044f\u0435\u0442 train/val \u043c\u0435\u0442\u0440\u0438\u043a\u0438, \u043b\u043e\u0433\u0438\u0440\u0443\u0435\u0442 \u0432 MLflow (\u0438 ClearML, \u0435\u0441\u043b\u0438 \u0432\u043a\u043b\u044e\u0447\u0451\u043d).</p> \u0412\u0445\u043e\u0434\u043d\u044b\u0435 \u0434\u0430\u043d\u043d\u044b\u0435 <code>data/processed/train.csv</code> \u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b <code>train.random_state</code>, <code>train.val_size</code>, <code>model.*</code> \u0412\u044b\u0445\u043e\u0434\u043d\u044b\u0435 \u0434\u0430\u043d\u043d\u044b\u0435 <code>models/{model_name}.joblib</code> \u041c\u0435\u0442\u0440\u0438\u043a\u0438 <code>metrics/train_{model_name}.json</code> <p>\u041b\u043e\u0433\u0438\u0440\u0443\u0435\u043c\u044b\u0435 \u043c\u0435\u0442\u0440\u0438\u043a\u0438:</p> <ul> <li><code>train_rmse</code>, <code>train_mae</code>, <code>train_r2</code></li> <li><code>val_rmse</code>, <code>val_mae</code>, <code>val_r2</code></li> </ul> <pre><code># \u041e\u0431\u0443\u0447\u0438\u0442\u044c \u043a\u043e\u043d\u043a\u0440\u0435\u0442\u043d\u0443\u044e \u043c\u043e\u0434\u0435\u043b\u044c\npoetry run python scripts/train.py model=ridge\n\n# \u0421 Hydra CLI-\u043e\u0432\u0435\u0440\u0440\u0430\u0439\u0434\u043e\u043c\npoetry run python scripts/train.py model=random_forest model.params.n_estimators=200\n</code></pre>"},{"location":"pipeline/#stage-5-select_best","title":"Stage 5: select_best","text":"<p>\u0421\u043a\u0440\u0438\u043f\u0442: <code>scripts/select_best.py</code></p> <p>\u0421\u0440\u0430\u0432\u043d\u0438\u0432\u0430\u0435\u0442 \u0432\u0441\u0435 3 \u043c\u043e\u0434\u0435\u043b\u0438 \u043f\u043e <code>val_rmse</code>, \u0432\u044b\u0431\u0438\u0440\u0430\u0435\u0442 \u043b\u0443\u0447\u0448\u0443\u044e.</p> \u0412\u0445\u043e\u0434\u043d\u044b\u0435 \u0434\u0430\u043d\u043d\u044b\u0435 3 \u0444\u0430\u0439\u043b\u0430 <code>models/*.joblib</code> + 3 \u0444\u0430\u0439\u043b\u0430 <code>metrics/train_*.json</code> \u0412\u044b\u0445\u043e\u0434\u043d\u044b\u0435 \u0434\u0430\u043d\u043d\u044b\u0435 <code>models/best_model.joblib</code>, <code>metrics/train_metrics.json</code> <p><code>train_metrics.json</code> \u0441\u043e\u0434\u0435\u0440\u0436\u0438\u0442:</p> <pre><code>{\n  \"best_model\": \"random_forest\",\n  \"best_val_rmse\": 3.776,\n  \"all_models\": {\n    \"linear_regression\": {\"val_rmse\": 4.826, ...},\n    \"ridge\": {\"val_rmse\": 4.825, ...},\n    \"random_forest\": {\"val_rmse\": 3.776, ...}\n  }\n}\n</code></pre>"},{"location":"pipeline/#stage-6-evaluate","title":"Stage 6: evaluate","text":"<p>\u0421\u043a\u0440\u0438\u043f\u0442: <code>scripts/evaluate.py</code></p> <p>\u041e\u0446\u0435\u043d\u0438\u0432\u0430\u0435\u0442 \u043b\u0443\u0447\u0448\u0443\u044e \u043c\u043e\u0434\u0435\u043b\u044c \u043d\u0430 \u0442\u0435\u0441\u0442\u043e\u0432\u043e\u0439 \u0432\u044b\u0431\u043e\u0440\u043a\u0435.</p> \u0412\u0445\u043e\u0434\u043d\u044b\u0435 \u0434\u0430\u043d\u043d\u044b\u0435 <code>models/best_model.joblib</code>, <code>data/processed/test.csv</code> \u0412\u044b\u0445\u043e\u0434\u043d\u044b\u0435 \u0434\u0430\u043d\u043d\u044b\u0435 <code>metrics/test_metrics.json</code> <pre><code>{\n  \"rmse\": 3.449,\n  \"mae\": 2.269,\n  \"r2\": 0.838\n}\n</code></pre>"},{"location":"pipeline/#hydra","title":"\u041a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u044f (Hydra)","text":"<p>\u041a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u044f \u0441\u0442\u0440\u043e\u0438\u0442\u0441\u044f \u0438\u0437 \u0444\u0430\u0439\u043b\u043e\u0432:</p> <pre><code>conf/\n\u251c\u2500\u2500 pipeline.yaml          # \u043a\u043e\u0440\u043d\u0435\u0432\u043e\u0439 \u043a\u043e\u043d\u0444\u0438\u0433\n\u2514\u2500\u2500 model/\n    \u251c\u2500\u2500 linear_regression.yaml\n    \u251c\u2500\u2500 ridge.yaml\n    \u2514\u2500\u2500 random_forest.yaml\n</code></pre> <p>\u041f\u0440\u0438\u043c\u0435\u0440 <code>conf/pipeline.yaml</code> (\u0444\u0440\u0430\u0433\u043c\u0435\u043d\u0442):</p> <pre><code>defaults:\n  - _self_\n  - model: linear_regression\n\nprepare:\n  test_size: 0.2\n  random_state: 42\n\ntrain:\n  random_state: 42\n  val_size: 0.2\n\nmlflow:\n  tracking_uri: sqlite:///mlflow.db\n  experiment_name: boston-housing\n\nclearml:\n  enabled: false\n  project_name: boston-housing-hw5\n</code></pre>"},{"location":"pipeline/#_3","title":"\u041c\u043e\u043d\u0438\u0442\u043e\u0440\u0438\u043d\u0433","text":"<p>\u041a\u0430\u0436\u0434\u0430\u044f \u0441\u0442\u0430\u0434\u0438\u044f \u043e\u0431\u043e\u0440\u0430\u0447\u0438\u0432\u0430\u0435\u0442\u0441\u044f \u043a\u043e\u043d\u0442\u0435\u043a\u0441\u0442\u043d\u044b\u043c \u043c\u0435\u043d\u0435\u0434\u0436\u0435\u0440\u043e\u043c <code>monitored_stage</code> \u0438\u0437 <code>src/housing/pipeline/monitoring.py</code>:</p> <ul> <li>\u0424\u0438\u043a\u0441\u0438\u0440\u0443\u0435\u0442 \u0432\u0440\u0435\u043c\u044f \u043d\u0430\u0447\u0430\u043b\u0430/\u043a\u043e\u043d\u0446\u0430</li> <li>\u041b\u043e\u0433\u0438\u0440\u0443\u0435\u0442 \u0441\u0442\u0430\u0442\u0443\u0441 (success/error)</li> <li>\u041f\u0438\u0448\u0435\u0442 \u0441\u043e\u0431\u044b\u0442\u0438\u044f \u0432 <code>metrics/pipeline_events.jsonl</code></li> <li>\u041e\u0442\u043f\u0440\u0430\u0432\u043b\u044f\u0435\u0442 \u0443\u0432\u0435\u0434\u043e\u043c\u043b\u0435\u043d\u0438\u044f (\u043a\u043e\u043d\u0441\u043e\u043b\u044c / \u0444\u0430\u0439\u043b)</li> </ul> <p>\u0424\u043e\u0440\u043c\u0430\u0442 \u0441\u043e\u0431\u044b\u0442\u0438\u044f:</p> <pre><code>{\n  \"stage\": \"train\",\n  \"status\": \"success\",\n  \"started_at\": \"2024-01-15T10:00:00\",\n  \"finished_at\": \"2024-01-15T10:00:05\",\n  \"duration_sec\": 5.3\n}\n</code></pre>"},{"location":"pipeline/#feature-engineering","title":"Feature Engineering","text":"<p>\u041f\u0430\u0439\u043f\u043b\u0430\u0439\u043d \u043f\u0440\u0438\u0437\u043d\u0430\u043a\u043e\u0432 (<code>src/housing/features/build.py</code>):</p> <ol> <li>StandardScaler - \u0441\u0442\u0430\u043d\u0434\u0430\u0440\u0442\u0438\u0437\u0430\u0446\u0438\u044f \u0432\u0441\u0435\u0445 13 \u0447\u0438\u0441\u043b\u043e\u0432\u044b\u0445 \u043f\u0440\u0438\u0437\u043d\u0430\u043a\u043e\u0432</li> </ol> <p>\u041f\u0440\u0438\u0437\u043d\u0430\u043a\u0438 \u0434\u0430\u0442\u0430\u0441\u0435\u0442\u0430 Boston Housing:</p> \u041f\u0440\u0438\u0437\u043d\u0430\u043a \u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 <code>crim</code> \u0423\u0440\u043e\u0432\u0435\u043d\u044c \u043f\u0440\u0435\u0441\u0442\u0443\u043f\u043d\u043e\u0441\u0442\u0438 \u043d\u0430 \u0434\u0443\u0448\u0443 \u043d\u0430\u0441\u0435\u043b\u0435\u043d\u0438\u044f <code>zn</code> \u0414\u043e\u043b\u044f \u0436\u0438\u043b\u043e\u0439 \u0437\u043e\u043d\u044b \u043f\u043e\u0434 \u043a\u0440\u0443\u043f\u043d\u044b\u0435 \u0443\u0447\u0430\u0441\u0442\u043a\u0438 <code>indus</code> \u0414\u043e\u043b\u044f \u043d\u0435\u0436\u0438\u043b\u044b\u0445 \u043a\u043e\u043c\u043c\u0435\u0440\u0447\u0435\u0441\u043a\u0438\u0445 \u0437\u0435\u043c\u0435\u043b\u044c <code>chas</code> \u0424\u0438\u043a\u0442\u0438\u0432\u043d\u0430\u044f \u043f\u0435\u0440\u0435\u043c\u0435\u043d\u043d\u0430\u044f (\u0440\u044f\u0434\u043e\u043c \u0441 \u0440\u0435\u043a\u043e\u0439 \u0427\u0430\u0440\u043b\u044c\u0437) <code>nox</code> \u041a\u043e\u043d\u0446\u0435\u043d\u0442\u0440\u0430\u0446\u0438\u044f \u043e\u043a\u0441\u0438\u0434\u043e\u0432 \u0430\u0437\u043e\u0442\u0430 <code>rm</code> \u0421\u0440\u0435\u0434\u043d\u0435\u0435 \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u043a\u043e\u043c\u043d\u0430\u0442 <code>age</code> \u0414\u043e\u043b\u044f \u043f\u043e\u0441\u0442\u0440\u043e\u0435\u043d\u043d\u044b\u0445 \u0434\u043e 1940 \u0433. \u0434\u043e\u043c\u043e\u0432 <code>dis</code> \u0420\u0430\u0441\u0441\u0442\u043e\u044f\u043d\u0438\u0435 \u0434\u043e \u0446\u0435\u043d\u0442\u0440\u043e\u0432 \u0437\u0430\u043d\u044f\u0442\u043e\u0441\u0442\u0438 <code>rad</code> \u0418\u043d\u0434\u0435\u043a\u0441 \u0434\u043e\u0441\u0442\u0443\u043f\u043d\u043e\u0441\u0442\u0438 \u0430\u0432\u0442\u043e\u043c\u0430\u0433\u0438\u0441\u0442\u0440\u0430\u043b\u0435\u0439 <code>tax</code> \u0421\u0442\u0430\u0432\u043a\u0430 \u043d\u0430\u043b\u043e\u0433\u0430 \u043d\u0430 \u0438\u043c\u0443\u0449\u0435\u0441\u0442\u0432\u043e <code>ptratio</code> \u0421\u043e\u043e\u0442\u043d\u043e\u0448\u0435\u043d\u0438\u0435 \u0443\u0447\u0435\u043d\u0438\u043a\u043e\u0432/\u0443\u0447\u0438\u0442\u0435\u043b\u0435\u0439 <code>b</code> \u0414\u043e\u043b\u044f \u0430\u0444\u0440\u043e\u0430\u043c\u0435\u0440\u0438\u043a\u0430\u043d\u0441\u043a\u043e\u0433\u043e \u043d\u0430\u0441\u0435\u043b\u0435\u043d\u0438\u044f <code>lstat</code> % \u043d\u0430\u0441\u0435\u043b\u0435\u043d\u0438\u044f \u0441 \u043d\u0438\u0437\u043a\u0438\u043c \u0441\u0442\u0430\u0442\u0443\u0441\u043e\u043c <code>medv</code> \u0422\u0430\u0440\u0433\u0435\u0442: \u043c\u0435\u0434\u0438\u0430\u043d\u043d\u0430\u044f \u0441\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u044c \u0436\u0438\u043b\u044c\u044f (\u0442\u044b\u0441. $)"},{"location":"reproducibility/","title":"\u0412\u043e\u0441\u043f\u0440\u043e\u0438\u0437\u0432\u043e\u0434\u0438\u043c\u043e\u0441\u0442\u044c","text":"<p>\u0412 \u043f\u0440\u043e\u0435\u043a\u0442\u0435 \u043f\u0440\u0438\u043c\u0435\u043d\u044f\u0435\u0442\u0441\u044f \u043c\u043d\u043e\u0433\u043e\u0443\u0440\u043e\u0432\u043d\u0435\u0432\u044b\u0439 \u043f\u043e\u0434\u0445\u043e\u0434 \u043a \u0432\u043e\u0441\u043f\u0440\u043e\u0438\u0437\u0432\u043e\u0434\u0438\u043c\u043e\u0441\u0442\u0438.</p>"},{"location":"reproducibility/#1","title":"1. \u0412\u043e\u0441\u043f\u0440\u043e\u0438\u0437\u0432\u0435\u0434\u0435\u043d\u0438\u0435 \u0441 \u043d\u0443\u043b\u044f","text":"<p>\u041f\u043e\u043b\u043d\u0430\u044f \u043f\u043e\u0441\u043b\u0435\u0434\u043e\u0432\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u044c \u043a\u043e\u043c\u0430\u043d\u0434 \u0434\u043b\u044f \u0432\u043e\u0441\u043f\u0440\u043e\u0438\u0437\u0432\u0435\u0434\u0435\u043d\u0438\u044f \u0432\u0441\u0435\u0445 \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u043e\u0432:</p> <pre><code># 1. \u041a\u043b\u043e\u043d\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0440\u0435\u043f\u043e\u0437\u0438\u0442\u043e\u0440\u0438\u0439\ngit clone &lt;repo-url&gt;\ncd ITMO-EPML-HW\n\n# 2. \u0423\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c Python-\u0437\u0430\u0432\u0438\u0441\u0438\u043c\u043e\u0441\u0442\u0438 (\u0444\u0438\u043a\u0441\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u044b\u0435 \u0432\u0435\u0440\u0441\u0438\u0438 \u0447\u0435\u0440\u0435\u0437 poetry.lock)\npoetry install\n\n# 3. \u041f\u043e\u043b\u0443\u0447\u0438\u0442\u044c \u0434\u0430\u043d\u043d\u044b\u0435 \u0438\u0437 DVC remote\npoetry run dvc pull\n\n# 4. \u0417\u0430\u043f\u0443\u0441\u0442\u0438\u0442\u044c \u0432\u0435\u0441\u044c \u043f\u0430\u0439\u043f\u043b\u0430\u0439\u043d\npoetry run dvc repro\n\n# 5. \u041f\u043e\u0441\u043c\u043e\u0442\u0440\u0435\u0442\u044c \u043c\u0435\u0442\u0440\u0438\u043a\u0438\npoetry run dvc metrics show\n\n# 6. (\u041e\u043f\u0446\u0438\u043e\u043d\u0430\u043b\u044c\u043d\u043e) \u0417\u0430\u043f\u0443\u0441\u0442\u0438\u0442\u044c \u0440\u0430\u0441\u0448\u0438\u0440\u0435\u043d\u043d\u044b\u0435 \u044d\u043a\u0441\u043f\u0435\u0440\u0438\u043c\u0435\u043d\u0442\u044b\npoetry run python scripts/run_experiments.py\n\n# 7. \u041f\u0440\u043e\u0432\u0435\u0440\u0438\u0442\u044c \u0442\u0435\u0441\u0442\u044b\npoetry run pytest\n\n# 8. \u0421\u0433\u0435\u043d\u0435\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043e\u0442\u0447\u0451\u0442\npoetry run python scripts/generate_report.py\n</code></pre> <p>\u041e\u0436\u0438\u0434\u0430\u0435\u043c\u044b\u0435 \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u044b (test_metrics.json):</p> <pre><code>{\n  \"rmse\": 3.449,\n  \"mae\": 2.269,\n  \"r2\": 0.838\n}\n</code></pre>"},{"location":"reproducibility/#2","title":"2. \u0424\u0438\u043a\u0441\u0430\u0446\u0438\u044f \u0437\u0430\u0432\u0438\u0441\u0438\u043c\u043e\u0441\u0442\u0435\u0439","text":""},{"location":"reproducibility/#python-poetry","title":"Python-\u043f\u0430\u043a\u0435\u0442\u044b (Poetry)","text":"<p><code>poetry.lock</code> \u0444\u0438\u043a\u0441\u0438\u0440\u0443\u0435\u0442 \u0442\u043e\u0447\u043d\u044b\u0435 \u0432\u0435\u0440\u0441\u0438\u0438 \u0432\u0441\u0435\u0445 \u0442\u0440\u0430\u043d\u0437\u0438\u0442\u0438\u0432\u043d\u044b\u0445 \u0437\u0430\u0432\u0438\u0441\u0438\u043c\u043e\u0441\u0442\u0435\u0439:</p> <pre><code># \u0423\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c \u0441\u0442\u0440\u043e\u0433\u043e \u0438\u0437 lock-\u0444\u0430\u0439\u043b\u0430 (\u0431\u0435\u0437 \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u044f)\npoetry install --no-root\n\n# \u041f\u0440\u043e\u0432\u0435\u0440\u0438\u0442\u044c, \u0447\u0442\u043e lock-\u0444\u0430\u0439\u043b \u0430\u043a\u0442\u0443\u0430\u043b\u0435\u043d\npoetry check\n</code></pre>"},{"location":"reproducibility/#dvc","title":"\u0414\u0430\u043d\u043d\u044b\u0435 (DVC)","text":"<p><code>data/raw/housing.csv.dvc</code> - \u044d\u0442\u043e DVC-\u0443\u043a\u0430\u0437\u0430\u0442\u0435\u043b\u044c \u0441 \u0445\u0435\u0448\u0435\u043c \u0444\u0430\u0439\u043b\u0430:</p> <pre><code>outs:\n- md5: abc123...\n  size: 50260\n  path: housing.csv\n</code></pre> <p>\u041a\u043e\u043c\u0430\u043d\u0434\u0430 <code>dvc pull</code> \u0441\u043a\u0430\u0447\u0438\u0432\u0430\u0435\u0442 \u0438\u043c\u0435\u043d\u043d\u043e \u0442\u043e\u0442 \u0444\u0430\u0439\u043b \u0441 \u0442\u0435\u043c \u0436\u0435 \u0445\u0435\u0448\u0435\u043c.</p> <pre><code># \u041f\u0440\u043e\u0432\u0435\u0440\u0438\u0442\u044c \u0441\u0442\u0430\u0442\u0443\u0441 \u0434\u0430\u043d\u043d\u044b\u0445\npoetry run dvc status\n\n# \u041f\u0440\u043e\u0441\u043c\u043e\u0442\u0440\u0435\u0442\u044c \u0433\u0440\u0430\u0444 \u0437\u0430\u0432\u0438\u0441\u0438\u043c\u043e\u0441\u0442\u0435\u0439\npoetry run dvc dag\n</code></pre>"},{"location":"reproducibility/#3","title":"3. \u0412\u043e\u0441\u043f\u0440\u043e\u0438\u0437\u0432\u043e\u0434\u0438\u043c\u043e\u0441\u0442\u044c \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u043e\u0432","text":""},{"location":"reproducibility/#random-state","title":"Random state","text":"<p>\u0412\u0441\u0435 \u0441\u043b\u0443\u0447\u0430\u0439\u043d\u044b\u0435 \u043e\u043f\u0435\u0440\u0430\u0446\u0438\u0438 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u044e\u0442 \u0444\u0438\u043a\u0441\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u044b\u0439 seed <code>42</code>:</p> <pre><code># \u0412 conf/pipeline.yaml\nprepare:\n  random_state: 42\n\ntrain:\n  random_state: 42\n</code></pre>"},{"location":"reproducibility/#_2","title":"\u0412\u0435\u0440\u0441\u0438\u043e\u043d\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u043c\u043e\u0434\u0435\u043b\u0435\u0439","text":"<p><code>dvc.lock</code> \u0444\u0438\u043a\u0441\u0438\u0440\u0443\u0435\u0442 \u0445\u0435\u0448\u0438 \u0432\u0445\u043e\u0434\u043d\u044b\u0445 \u0438 \u0432\u044b\u0445\u043e\u0434\u043d\u044b\u0445 \u0444\u0430\u0439\u043b\u043e\u0432 \u043a\u0430\u0436\u0434\u043e\u0439 \u0441\u0442\u0430\u0434\u0438\u0438:</p> <pre><code># \u041f\u0440\u043e\u0432\u0435\u0440\u0438\u0442\u044c, \u0447\u0442\u043e \u0441\u0442\u0430\u0434\u0438\u0438 \u0430\u043a\u0442\u0443\u0430\u043b\u044c\u043d\u044b\npoetry run dvc status\n\n# \u0415\u0441\u043b\u0438 \u0432\u0441\u0451 \u0430\u043a\u0442\u0443\u0430\u043b\u044c\u043d\u043e - \u043d\u0435\u0442 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0439 \u0434\u043b\u044f \u0432\u043e\u0441\u043f\u0440\u043e\u0438\u0437\u0432\u0435\u0434\u0435\u043d\u0438\u044f\n# Running stages 'prepare': changed.\n</code></pre>"},{"location":"reproducibility/#4-docker","title":"4. Docker (\u0438\u0437\u043e\u043b\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u043e\u0435 \u043e\u043a\u0440\u0443\u0436\u0435\u043d\u0438\u0435)","text":"<p>\u0414\u043b\u044f \u043f\u043e\u043b\u043d\u043e\u0439 \u0438\u0437\u043e\u043b\u044f\u0446\u0438\u0438 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0439\u0442\u0435 Docker:</p> <pre><code># \u0421\u0431\u043e\u0440\u043a\u0430 \u043e\u0431\u0440\u0430\u0437\u0430\ndocker build -t housing:latest .\n\n# \u0417\u0430\u043f\u0443\u0441\u043a \u043f\u0430\u0439\u043f\u043b\u0430\u0439\u043d\u0430 \u0432 \u043a\u043e\u043d\u0442\u0435\u0439\u043d\u0435\u0440\u0435\ndocker run --rm housing:latest\n\n# \u041f\u0440\u043e\u0432\u0435\u0440\u0438\u0442\u044c \u043c\u0435\u0442\u0440\u0438\u043a\u0438 \u0438\u0437 \u043a\u043e\u043d\u0442\u0435\u0439\u043d\u0435\u0440\u0430\ndocker run --rm housing:latest cat metrics/test_metrics.json\n</code></pre> <p>Dockerfile \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u0442: - \u0424\u0438\u043a\u0441\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u044b\u0435 \u0431\u0430\u0437\u043e\u0432\u044b\u0435 \u043e\u0431\u0440\u0430\u0437\u044b (<code>python:3.10-slim</code>) - \u0424\u0438\u043a\u0441\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u0443\u044e \u0432\u0435\u0440\u0441\u0438\u044e Poetry (<code>2.3.2</code>) - \u041a\u043e\u043f\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 <code>poetry.lock</code> \u0434\u043b\u044f \u0434\u0435\u0442\u0435\u0440\u043c\u0438\u043d\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u043e\u0439 \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u043a\u0438 \u0437\u0430\u0432\u0438\u0441\u0438\u043c\u043e\u0441\u0442\u0435\u0439</p>"},{"location":"reproducibility/#5-clearml-mlops","title":"5. ClearML (MLOps \u0432\u043e\u0441\u043f\u0440\u043e\u0438\u0437\u0432\u043e\u0434\u0438\u043c\u043e\u0441\u0442\u044c)","text":"<p>ClearML \u0434\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u043e \u0444\u0438\u043a\u0441\u0438\u0440\u0443\u0435\u0442:</p> <ul> <li>\u0413\u0438\u043f\u0435\u0440\u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b \u0437\u0430\u0434\u0430\u0447\u0438</li> <li>\u0412\u0435\u0440\u0441\u0438\u0438 \u043a\u043e\u0434\u0430 (git commit hash)</li> <li>\u0410\u0440\u0442\u0435\u0444\u0430\u043a\u0442\u044b (train/test \u0434\u0430\u0442\u0430\u0441\u0435\u0442\u044b, \u043e\u0431\u0443\u0447\u0435\u043d\u043d\u044b\u0435 \u043c\u043e\u0434\u0435\u043b\u0438)</li> <li>\u041e\u043a\u0440\u0443\u0436\u0435\u043d\u0438\u0435 (Python packages snapshot)</li> </ul> <p>\u0412\u043e\u0441\u043f\u0440\u043e\u0438\u0437\u0432\u0435\u0434\u0435\u043d\u0438\u0435 \u0447\u0435\u0440\u0435\u0437 ClearML:</p> <pre><code># \u0417\u0430\u043f\u0443\u0441\u0442\u0438\u0442\u044c \u0441\u0442\u0430\u0434\u0438\u044e \u0441 \u043f\u043e\u043b\u043d\u044b\u043c \u0442\u0440\u0435\u043a\u0438\u043d\u0433\u043e\u043c\npoetry run python scripts/train.py model=random_forest clearml.enabled=true\n\n# \u0412\u043e\u0441\u043f\u0440\u043e\u0438\u0437\u0432\u0435\u0441\u0442\u0438 \u0437\u0430\u0434\u0430\u0447\u0443 \u043f\u043e ID\n# (\u0432 ClearML UI: Task \u2192 Clone \u2192 Enqueue)\n</code></pre>"},{"location":"reproducibility/#6-hydra","title":"6. \u041a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u044f (Hydra)","text":"<p>\u041a\u0430\u0436\u0434\u044b\u0439 \u0437\u0430\u043f\u0443\u0441\u043a \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0438\u0440\u0443\u0435\u0442\u0441\u044f \u0447\u0435\u0440\u0435\u0437 Hydra - \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b \u044f\u0432\u043d\u043e \u043f\u0435\u0440\u0435\u0434\u0430\u044e\u0442\u0441\u044f \u0432 \u043a\u043e\u043c\u0430\u043d\u0434\u0435:</p> <pre><code># \u041f\u043e\u043b\u043d\u043e\u0441\u0442\u044c\u044e \u0432\u043e\u0441\u043f\u0440\u043e\u0438\u0437\u0432\u043e\u0434\u0438\u043c\u044b\u0439 \u0437\u0430\u043f\u0443\u0441\u043a (\u0432\u0441\u0435 \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b \u044f\u0432\u043d\u043e)\npoetry run python scripts/train.py \\\n    model=random_forest \\\n    model.params.n_estimators=100 \\\n    model.params.max_depth=10 \\\n    train.random_state=42 \\\n    train.val_size=0.2 \\\n    prepare.test_size=0.2\n</code></pre>"},{"location":"reproducibility/#7","title":"7. \u041f\u0440\u043e\u0432\u0435\u0440\u043a\u0430 \u0432\u043e\u0441\u043f\u0440\u043e\u0438\u0437\u0432\u043e\u0434\u0438\u043c\u043e\u0441\u0442\u0438","text":"<pre><code># \u0422\u0435\u0441\u0442 \u0432\u043e\u0441\u043f\u0440\u043e\u0438\u0437\u0432\u043e\u0434\u0438\u043c\u043e\u0441\u0442\u0438\npoetry run pytest tests/test_reproducibility.py -v\n\n# \u041f\u043e\u043b\u043d\u044b\u0439 \u043d\u0430\u0431\u043e\u0440 \u0442\u0435\u0441\u0442\u043e\u0432\npoetry run pytest --cov=src/housing\n\n# \u041f\u0440\u043e\u0432\u0435\u0440\u0438\u0442\u044c \u043c\u0435\u0442\u0440\u0438\u043a\u0438 \u0447\u0435\u0440\u0435\u0437 DVC\npoetry run dvc metrics show --all-commits\n</code></pre>"},{"location":"reproducibility/#_3","title":"\u0427\u0435\u043a\u043b\u0438\u0441\u0442 \u0432\u043e\u0441\u043f\u0440\u043e\u0438\u0437\u0432\u043e\u0434\u0438\u043c\u043e\u0441\u0442\u0438","text":"<ul> <li>[x] <code>poetry.lock</code> - \u0442\u043e\u0447\u043d\u044b\u0435 \u0432\u0435\u0440\u0441\u0438\u0438 Python-\u0437\u0430\u0432\u0438\u0441\u0438\u043c\u043e\u0441\u0442\u0435\u0439</li> <li>[x] <code>dvc.lock</code> - \u0445\u0435\u0448\u0438 \u0434\u0430\u043d\u043d\u044b\u0445 \u0438 \u0430\u0440\u0442\u0435\u0444\u0430\u043a\u0442\u043e\u0432 \u043f\u0430\u0439\u043f\u043b\u0430\u0439\u043d\u0430</li> <li>[x] <code>*.dvc</code> \u0444\u0430\u0439\u043b\u044b - DVC-\u0443\u043a\u0430\u0437\u0430\u0442\u0435\u043b\u0438 \u043d\u0430 \u0444\u0430\u0439\u043b\u044b \u0434\u0430\u043d\u043d\u044b\u0445</li> <li>[x] <code>params.yaml</code> + <code>conf/</code> - \u0432\u0441\u0435 \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b \u0437\u0430\u0444\u0438\u043a\u0441\u0438\u0440\u043e\u0432\u0430\u043d\u044b</li> <li>[x] <code>random_state=42</code> - \u0444\u0438\u043a\u0441\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u044b\u0439 seed \u0432\u0435\u0437\u0434\u0435</li> <li>[x] <code>Dockerfile</code> - \u0444\u0438\u043a\u0441\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u044b\u0435 \u043e\u0431\u0440\u0430\u0437\u044b \u0438 \u0432\u0435\u0440\u0441\u0438\u0438</li> <li>[x] <code>pytest</code> - \u0442\u0435\u0441\u0442\u044b \u043f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0430\u044e\u0442 \u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u043e\u0441\u0442\u044c \u043a\u043e\u0434\u0430</li> <li>[x] ClearML task - snapshot \u043e\u043a\u0440\u0443\u0436\u0435\u043d\u0438\u044f \u0438 \u0430\u0440\u0442\u0435\u0444\u0430\u043a\u0442\u043e\u0432</li> </ul>"},{"location":"usage/","title":"\u041f\u0440\u0438\u043c\u0435\u0440\u044b \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u044f","text":""},{"location":"usage/#hydra","title":"\u041a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u044f \u0447\u0435\u0440\u0435\u0437 Hydra","text":"<p>\u041f\u0440\u043e\u0435\u043a\u0442 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u0442 Hydra \u0434\u043b\u044f \u0443\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u044f \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u0435\u0439.</p>"},{"location":"usage/#_2","title":"\u0412\u044b\u0431\u043e\u0440 \u0430\u043b\u0433\u043e\u0440\u0438\u0442\u043c\u0430","text":"<pre><code># \u041b\u0438\u043d\u0435\u0439\u043d\u0430\u044f \u0440\u0435\u0433\u0440\u0435\u0441\u0441\u0438\u044f (\u043f\u043e \u0443\u043c\u043e\u043b\u0447\u0430\u043d\u0438\u044e)\npoetry run python scripts/train.py\n\n# Ridge\npoetry run python scripts/train.py model=ridge\n\n# Random Forest\npoetry run python scripts/train.py model=random_forest\n</code></pre>"},{"location":"usage/#cli-","title":"CLI-\u043e\u0432\u0435\u0440\u0440\u0430\u0439\u0434\u044b","text":"<pre><code># \u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c alpha \u0443 Ridge\npoetry run python scripts/train.py model=ridge model.params.alpha=0.5\n\n# \u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b Random Forest\npoetry run python scripts/train.py model=random_forest \\\n    model.params.n_estimators=200 \\\n    model.params.max_depth=15\n\n# \u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c test_size\npoetry run python scripts/train.py prepare.test_size=0.3\n\n# \u0412\u043a\u043b\u044e\u0447\u0438\u0442\u044c ClearML\npoetry run python scripts/train.py model=random_forest clearml.enabled=true\n</code></pre>"},{"location":"usage/#_3","title":"\u0414\u043e\u0441\u0442\u0443\u043f\u043d\u044b\u0435 \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b","text":"\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440 \u041f\u043e \u0443\u043c\u043e\u043b\u0447\u0430\u043d\u0438\u044e \u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 <code>model</code> <code>linear_regression</code> \u0410\u043b\u0433\u043e\u0440\u0438\u0442\u043c (linear_regression/ridge/random_forest) <code>prepare.test_size</code> <code>0.2</code> \u0414\u043e\u043b\u044f \u0442\u0435\u0441\u0442\u043e\u0432\u043e\u0439 \u0432\u044b\u0431\u043e\u0440\u043a\u0438 <code>prepare.random_state</code> <code>42</code> \u0421\u0438\u0434 \u0434\u043b\u044f \u0432\u043e\u0441\u043f\u0440\u043e\u0438\u0437\u0432\u043e\u0434\u0438\u043c\u043e\u0441\u0442\u0438 <code>train.val_size</code> <code>0.2</code> \u0414\u043e\u043b\u044f \u0432\u0430\u043b\u0438\u0434\u0430\u0446\u0438\u043e\u043d\u043d\u043e\u0439 \u0432\u044b\u0431\u043e\u0440\u043a\u0438 <code>model.params.alpha</code> <code>1.0</code> Alpha \u0434\u043b\u044f Ridge <code>model.params.n_estimators</code> <code>100</code> \u0414\u0435\u0440\u0435\u0432\u044c\u0435\u0432 \u0432 RF <code>model.params.max_depth</code> <code>10</code> \u0413\u043b\u0443\u0431\u0438\u043d\u0430 \u0434\u0435\u0440\u0435\u0432\u044c\u0435\u0432 RF <code>clearml.enabled</code> <code>false</code> \u0412\u043a\u043b\u044e\u0447\u0438\u0442\u044c ClearML \u0442\u0440\u0435\u043a\u0438\u043d\u0433"},{"location":"usage/#dvc-","title":"DVC-\u043f\u0430\u0439\u043f\u043b\u0430\u0439\u043d","text":"<pre><code># \u041f\u043e\u043b\u043d\u044b\u0439 \u043f\u0440\u043e\u0433\u043e\u043d (\u0442\u043e\u043b\u044c\u043a\u043e \u0438\u0437\u043c\u0435\u043d\u0451\u043d\u043d\u044b\u0435 \u0441\u0442\u0430\u0434\u0438\u0438)\npoetry run dvc repro\n\n# \u041f\u0440\u0438\u043d\u0443\u0434\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u0439 \u043f\u043e\u043b\u043d\u044b\u0439 \u043f\u0440\u043e\u0433\u043e\u043d\npoetry run dvc repro --force\n\n# \u0417\u0430\u043f\u0443\u0441\u0442\u0438\u0442\u044c \u043a\u043e\u043d\u043a\u0440\u0435\u0442\u043d\u0443\u044e \u0441\u0442\u0430\u0434\u0438\u044e\npoetry run dvc repro select_best\n\n# \u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c DAG \u043f\u0430\u0439\u043f\u043b\u0430\u0439\u043d\u0430\npoetry run dvc dag\n\n# \u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c \u043c\u0435\u0442\u0440\u0438\u043a\u0438\npoetry run dvc metrics show\n\n# \u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c diff \u043c\u0435\u0442\u0440\u0438\u043a \u0441 \u043f\u0440\u0435\u0434\u044b\u0434\u0443\u0449\u0438\u043c \u043a\u043e\u043c\u043c\u0438\u0442\u043e\u043c\npoetry run dvc metrics diff\n</code></pre>"},{"location":"usage/#dvc-queue","title":"\u041f\u0430\u0440\u0430\u043b\u043b\u0435\u043b\u044c\u043d\u043e\u0435 \u043e\u0431\u0443\u0447\u0435\u043d\u0438\u0435 (DVC queue)","text":"<pre><code>poetry run dvc exp run --queue train_linear_regression\npoetry run dvc exp run --queue train_ridge\npoetry run dvc exp run --queue train_random_forest\npoetry run dvc queue start -j 3\n</code></pre>"},{"location":"usage/#mlflow","title":"MLflow","text":"<pre><code># \u0417\u0430\u043f\u0443\u0441\u043a 21 \u044d\u043a\u0441\u043f\u0435\u0440\u0438\u043c\u0435\u043d\u0442\u0430 (\u0441\u0435\u0442\u043a\u0430 \u0433\u0438\u043f\u0435\u0440\u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u043e\u0432)\npoetry run python scripts/run_experiments.py\n\n# MLflow UI\npoetry run mlflow ui --backend-store-uri sqlite:///mlflow.db --port 5000\n</code></pre>"},{"location":"usage/#python-api","title":"Python API \u0442\u0440\u0435\u043a\u0438\u043d\u0433\u0430","text":"<pre><code>from housing.tracking import ExperimentTracker\n\nwith ExperimentTracker(experiment_name=\"my-exp\", run_name=\"run-1\") as tracker:\n    tracker.log_params({\"alpha\": 0.5, \"model\": \"ridge\"})\n    tracker.log_metrics({\"rmse\": 4.2, \"r2\": 0.71})\n    tracker.log_model(trained_model, artifact_path=\"model\")\n</code></pre> <pre><code>from housing.tracking import mlflow_run\n\n@mlflow_run(experiment_name=\"my-exp\", run_name=\"experiment-1\")\ndef train_model(X_train, y_train):\n    model = Ridge(alpha=0.5)\n    model.fit(X_train, y_train)\n    return model\n</code></pre> <pre><code>from housing.tracking.utils import compare_runs, get_best_run\n\n# \u0421\u0440\u0430\u0432\u043d\u0438\u0442\u044c \u0432\u0441\u0435 \u043f\u0440\u043e\u0433\u043e\u043d\u044b \u044d\u043a\u0441\u043f\u0435\u0440\u0438\u043c\u0435\u043d\u0442\u0430\ndf = compare_runs(\"boston-housing\")\nprint(df[[\"run_name\", \"val_rmse\", \"val_r2\"]].sort_values(\"val_rmse\"))\n\n# \u041f\u043e\u043b\u0443\u0447\u0438\u0442\u044c \u043b\u0443\u0447\u0448\u0438\u0439 \u043f\u0440\u043e\u0433\u043e\u043d\nbest_run_id = get_best_run(\"boston-housing\", metric_name=\"val_rmse\", mode=\"min\")\n</code></pre>"},{"location":"usage/#clearml","title":"ClearML","text":"<pre><code># \u0417\u0430\u043f\u0443\u0441\u0442\u0438\u0442\u044c \u0441 ClearML \u0442\u0440\u0435\u043a\u0438\u043d\u0433\u043e\u043c\npoetry run python scripts/train.py model=random_forest clearml.enabled=true\n\n# \u0417\u0430\u043f\u0443\u0441\u0442\u0438\u0442\u044c ClearML Pipeline Controller\npoetry run python scripts/clearml_pipeline.py clearml.enabled=true\n\n# \u042d\u043a\u0441\u043f\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0441\u0440\u0430\u0432\u043d\u0435\u043d\u0438\u0435 \u044d\u043a\u0441\u043f\u0435\u0440\u0438\u043c\u0435\u043d\u0442\u043e\u0432 \u0438 \u043c\u043e\u0434\u0435\u043b\u0435\u0439\npoetry run python scripts/clearml_compare.py clearml.enabled=true\n# \u0420\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u044b: metrics/clearml_experiments.csv, metrics/clearml_models.csv\n</code></pre>"},{"location":"usage/#_4","title":"\u0413\u0435\u043d\u0435\u0440\u0430\u0446\u0438\u044f \u043e\u0442\u0447\u0451\u0442\u043e\u0432","text":"<pre><code># \u0421\u0433\u0435\u043d\u0435\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043e\u0442\u0447\u0451\u0442 \u0441 \u0433\u0440\u0430\u0444\u0438\u043a\u0430\u043c\u0438 (\u0441\u043e\u0437\u0434\u0430\u0451\u0442 reports/report_hw6.md + figures)\npoetry run python scripts/generate_report.py\n\n# \u041f\u0440\u043e\u0432\u0435\u0440\u0438\u0442\u044c pipeline events\ncat metrics/pipeline_events.jsonl | python -m json.tool | head -40\n</code></pre>"},{"location":"usage/#python-api_1","title":"Python API (\u043f\u0440\u044f\u043c\u043e\u0435 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u0435)","text":"<pre><code>from housing.data.load import load_raw_housing\nfrom housing.features.build import get_feature_pipeline, split_features_target\nfrom housing.models.train import compute_metrics, train_and_log_model\n\n# \u0417\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u0434\u0430\u043d\u043d\u044b\u0435\ndf = load_raw_housing()\n\n# \u0420\u0430\u0437\u0434\u0435\u043b\u0438\u0442\u044c \u043d\u0430 \u043f\u0440\u0438\u0437\u043d\u0430\u043a\u0438 \u0438 \u0442\u0430\u0440\u0433\u0435\u0442\nX, y = split_features_target(df)\n\n# \u041f\u043e\u043b\u0443\u0447\u0438\u0442\u044c \u043f\u0430\u0439\u043f\u043b\u0430\u0439\u043d \u043f\u0440\u0438\u0437\u043d\u0430\u043a\u043e\u0432\nfeature_pipeline = get_feature_pipeline()\n\n# \u041e\u0431\u0443\u0447\u0438\u0442\u044c \u043c\u043e\u0434\u0435\u043b\u044c \u0441 MLflow \u0442\u0440\u0435\u043a\u0438\u043d\u0433\u043e\u043c\nfrom sklearn.linear_model import Ridge\nmodel = Ridge(alpha=1.0)\nrun_id, val_rmse = train_and_log_model(\n    model_name=\"ridge\",\n    model=model,\n    feature_pipeline=feature_pipeline,\n    X_train=X_train,\n    y_train=y_train,\n    X_val=X_val,\n    y_val=y_val,\n    extra_params={\"alpha\": 1.0},\n)\nprint(f\"Run ID: {run_id}, Val RMSE: {val_rmse:.4f}\")\n</code></pre>"},{"location":"api/","title":"API Reference","text":"<p>\u041f\u0430\u043a\u0435\u0442 <code>housing</code> (<code>src/housing/</code>) \u0441\u043e\u0434\u0435\u0440\u0436\u0438\u0442 \u0432\u0441\u0435 \u043f\u0435\u0440\u0435\u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u043c\u044b\u0435 \u043c\u043e\u0434\u0443\u043b\u0438 \u043f\u0440\u043e\u0435\u043a\u0442\u0430.</p>"},{"location":"api/#_1","title":"\u0421\u0442\u0440\u0443\u043a\u0442\u0443\u0440\u0430 \u043f\u0430\u043a\u0435\u0442\u0430","text":"<pre><code>src/housing/\n\u251c\u2500\u2500 config/          # \u0412\u0430\u043b\u0438\u0434\u0430\u0446\u0438\u044f \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u0438 Hydra\n\u251c\u2500\u2500 data/            # \u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430 \u0434\u0430\u043d\u043d\u044b\u0445\n\u251c\u2500\u2500 features/        # \u0418\u043d\u0436\u0435\u043d\u0435\u0440\u0438\u044f \u043f\u0440\u0438\u0437\u043d\u0430\u043a\u043e\u0432\n\u251c\u2500\u2500 models/          # \u041e\u0431\u0443\u0447\u0435\u043d\u0438\u0435 \u0438 \u043e\u0446\u0435\u043d\u043a\u0430 \u043c\u043e\u0434\u0435\u043b\u0435\u0439\n\u251c\u2500\u2500 pipeline/        # \u041c\u043e\u043d\u0438\u0442\u043e\u0440\u0438\u043d\u0433 \u0441\u0442\u0430\u0434\u0438\u0439\n\u2514\u2500\u2500 tracking/        # MLflow \u0438 ClearML \u0442\u0440\u0435\u043a\u0438\u043d\u0433\n</code></pre>"},{"location":"api/#_2","title":"\u0418\u043c\u043f\u043e\u0440\u0442\u044b","text":"<pre><code># \u0414\u0430\u043d\u043d\u044b\u0435\nfrom housing.data.load import load_raw_housing\n\n# \u041f\u0440\u0438\u0437\u043d\u0430\u043a\u0438\nfrom housing.features.build import (\n    get_feature_pipeline,\n    split_features_target,\n    FEATURE_COLUMNS,\n    TARGET_COLUMN,\n)\n\n# \u041c\u043e\u0434\u0435\u043b\u0438\nfrom housing.models.train import compute_metrics, train_and_log_model\n\n# \u0422\u0440\u0435\u043a\u0438\u043d\u0433\nfrom housing.tracking import (\n    ExperimentTracker,   # MLflow context manager\n    mlflow_run,          # MLflow decorator\n    ClearMLTracker,      # ClearML context manager\n)\nfrom housing.tracking.utils import compare_runs, get_best_run, search_runs\n\n# \u041a\u043e\u043d\u0444\u0438\u0433\nfrom housing.config import (\n    validate_prepare_cfg,\n    validate_train_cfg,\n    validate_selection_cfg,\n    validate_evaluate_cfg,\n    validate_clearml_cfg,\n)\n</code></pre>"},{"location":"api/#_3","title":"\u0420\u0430\u0437\u0434\u0435\u043b\u044b","text":"\u041c\u043e\u0434\u0443\u043b\u044c \u0421\u0441\u044b\u043b\u043a\u0430 <code>housing.data</code> \u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430 \u0434\u0430\u043d\u043d\u044b\u0445 <code>housing.features</code> \u0418\u043d\u0436\u0435\u043d\u0435\u0440\u0438\u044f \u043f\u0440\u0438\u0437\u043d\u0430\u043a\u043e\u0432 <code>housing.models</code> \u041e\u0431\u0443\u0447\u0435\u043d\u0438\u0435 \u043c\u043e\u0434\u0435\u043b\u0435\u0439 <code>housing.tracking</code> \u0422\u0440\u0435\u043a\u0438\u043d\u0433 \u044d\u043a\u0441\u043f\u0435\u0440\u0438\u043c\u0435\u043d\u0442\u043e\u0432 <code>housing.config</code> \u041a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u044f"},{"location":"api/config/","title":"housing.config - \u041a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u044f \u0438 \u0432\u0430\u043b\u0438\u0434\u0430\u0446\u0438\u044f","text":"<p>\u041c\u043e\u0434\u0443\u043b\u044c: <code>src/housing/config/validation.py</code></p> <p>\u041c\u043e\u0434\u0443\u043b\u044c \u043f\u0440\u043e\u0432\u0435\u0440\u044f\u0435\u0442 \u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u043e\u0441\u0442\u044c \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u0438 Hydra \u043f\u0435\u0440\u0435\u0434 \u0437\u0430\u043f\u0443\u0441\u043a\u043e\u043c \u043a\u0430\u0436\u0434\u043e\u0439 \u0441\u0442\u0430\u0434\u0438\u0438.</p>"},{"location":"api/config/#_1","title":"\u0424\u0443\u043d\u043a\u0446\u0438\u0438 \u0432\u0430\u043b\u0438\u0434\u0430\u0446\u0438\u0438","text":""},{"location":"api/config/#validate_prepare_cfg","title":"<code>validate_prepare_cfg</code>","text":"<pre><code>def validate_prepare_cfg(cfg: DictConfig) -&gt; None\n</code></pre> <p>\u041f\u0440\u043e\u0432\u0435\u0440\u044f\u0435\u0442 \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b \u0441\u0442\u0430\u0434\u0438\u0438 <code>prepare</code>.</p> <p>\u041f\u0440\u0430\u0432\u0438\u043b\u0430:</p> <ul> <li><code>prepare.test_size</code> \u2208 (0, 1)</li> <li><code>prepare.random_state</code> - \u0446\u0435\u043b\u043e\u0435 \u0447\u0438\u0441\u043b\u043e \u2265 0</li> </ul> <p>\u0418\u0441\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u044f: <code>ValueError</code> \u0435\u0441\u043b\u0438 \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440 \u043d\u0435 \u0432\u0430\u043b\u0438\u0434\u0435\u043d.</p> <p>\u041f\u0440\u0438\u043c\u0435\u0440:</p> <pre><code>from omegaconf import OmegaConf\nfrom housing.config import validate_prepare_cfg\n\ncfg = OmegaConf.create({\"prepare\": {\"test_size\": 0.2, \"random_state\": 42}})\nvalidate_prepare_cfg(cfg)  # OK\n</code></pre>"},{"location":"api/config/#validate_train_cfg","title":"<code>validate_train_cfg</code>","text":"<pre><code>def validate_train_cfg(cfg: DictConfig) -&gt; None\n</code></pre> <p>\u041f\u0440\u043e\u0432\u0435\u0440\u044f\u0435\u0442 \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b \u0441\u0442\u0430\u0434\u0438\u0438 <code>train</code>.</p> <p>\u041f\u0440\u0430\u0432\u0438\u043b\u0430:</p> <ul> <li><code>train.val_size</code> \u2208 (0, 1)</li> <li><code>train.random_state</code> - \u0446\u0435\u043b\u043e\u0435 \u0447\u0438\u0441\u043b\u043e \u2265 0</li> <li><code>model.kind</code> \u2208 {<code>linear_regression</code>, <code>ridge</code>, <code>random_forest</code>}</li> </ul>"},{"location":"api/config/#validate_selection_cfg","title":"<code>validate_selection_cfg</code>","text":"<pre><code>def validate_selection_cfg(cfg: DictConfig) -&gt; None\n</code></pre> <p>\u041f\u0440\u043e\u0432\u0435\u0440\u044f\u0435\u0442 \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b \u0441\u0442\u0430\u0434\u0438\u0438 <code>select_best</code>.</p> <p>\u041f\u0440\u0430\u0432\u0438\u043b\u0430:</p> <ul> <li><code>selection.candidates</code> - \u043d\u0435\u043f\u0443\u0441\u0442\u043e\u0439 \u0441\u043f\u0438\u0441\u043e\u043a \u0441\u0442\u0440\u043e\u043a</li> </ul>"},{"location":"api/config/#validate_evaluate_cfg","title":"<code>validate_evaluate_cfg</code>","text":"<pre><code>def validate_evaluate_cfg(cfg: DictConfig) -&gt; None\n</code></pre> <p>\u041f\u0440\u043e\u0432\u0435\u0440\u044f\u0435\u0442 \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b \u0441\u0442\u0430\u0434\u0438\u0438 <code>evaluate</code>.</p> <p>\u041f\u0440\u0430\u0432\u0438\u043b\u0430:</p> <ul> <li><code>evaluate.model_path</code> - \u043d\u0435\u043f\u0443\u0441\u0442\u0430\u044f \u0441\u0442\u0440\u043e\u043a\u0430</li> <li><code>evaluate.test_path</code> - \u043d\u0435\u043f\u0443\u0441\u0442\u0430\u044f \u0441\u0442\u0440\u043e\u043a\u0430</li> </ul>"},{"location":"api/config/#validate_clearml_cfg","title":"<code>validate_clearml_cfg</code>","text":"<pre><code>def validate_clearml_cfg(cfg: DictConfig) -&gt; None\n</code></pre> <p>\u041f\u0440\u043e\u0432\u0435\u0440\u044f\u0435\u0442 \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b ClearML (\u0442\u043e\u043b\u044c\u043a\u043e \u0435\u0441\u043b\u0438 <code>clearml.enabled=true</code>).</p> <p>\u041f\u0440\u0430\u0432\u0438\u043b\u0430:</p> <ul> <li><code>clearml.project_name</code> - \u043d\u0435\u043f\u0443\u0441\u0442\u0430\u044f \u0441\u0442\u0440\u043e\u043a\u0430</li> <li><code>clearml.task_prefix</code> - \u043d\u0435\u043f\u0443\u0441\u0442\u0430\u044f \u0441\u0442\u0440\u043e\u043a\u0430</li> <li><code>clearml.server.api_host</code> - \u043d\u0430\u0447\u0438\u043d\u0430\u0435\u0442\u0441\u044f \u0441 <code>http://</code> \u0438\u043b\u0438 <code>https://</code></li> <li><code>clearml.server.web_host</code> - \u043d\u0430\u0447\u0438\u043d\u0430\u0435\u0442\u0441\u044f \u0441 <code>http://</code> \u0438\u043b\u0438 <code>https://</code></li> <li><code>clearml.server.files_host</code> - \u043d\u0430\u0447\u0438\u043d\u0430\u0435\u0442\u0441\u044f \u0441 <code>http://</code> \u0438\u043b\u0438 <code>https://</code></li> </ul>"},{"location":"api/config/#_2","title":"\u041a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u043e\u043d\u043d\u044b\u0435 \u0444\u0430\u0439\u043b\u044b","text":""},{"location":"api/config/#confpipelineyaml","title":"<code>conf/pipeline.yaml</code> (\u043a\u043e\u0440\u043d\u0435\u0432\u043e\u0439)","text":"<pre><code>defaults:\n  - _self_\n  - model: linear_regression\n\nprepare:\n  test_size: 0.2\n  random_state: 42\n  raw_path: data/raw/housing.csv\n  train_path: data/processed/train.csv\n  test_path: data/processed/test.csv\n\ntrain:\n  random_state: 42\n  val_size: 0.2\n  train_path: data/processed/train.csv\n\nmlflow:\n  tracking_uri: sqlite:///mlflow.db\n  experiment_name: boston-housing\n  model_name: housing-model\n\nclearml:\n  enabled: false\n  project_name: boston-housing-hw5\n  task_prefix: housing-pipeline\n  server:\n    api_host: http://localhost:8008\n    web_host: http://localhost:8080\n    files_host: http://localhost:8081\n</code></pre>"},{"location":"api/config/#confmodellinear_regressionyaml","title":"<code>conf/model/linear_regression.yaml</code>","text":"<pre><code>name: linear_regression\nkind: linear_regression\nparams: {}\n</code></pre>"},{"location":"api/config/#confmodelridgeyaml","title":"<code>conf/model/ridge.yaml</code>","text":"<pre><code>name: ridge\nkind: ridge\nparams:\n  alpha: 1.0\n</code></pre>"},{"location":"api/config/#confmodelrandom_forestyaml","title":"<code>conf/model/random_forest.yaml</code>","text":"<pre><code>name: random_forest\nkind: random_forest\nparams:\n  n_estimators: 100\n  max_depth: 10\n</code></pre>"},{"location":"api/data/","title":"housing.data - \u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430 \u0434\u0430\u043d\u043d\u044b\u0445","text":"<p>\u041c\u043e\u0434\u0443\u043b\u044c: <code>src/housing/data/load.py</code></p>"},{"location":"api/data/#_1","title":"\u041a\u043e\u043d\u0441\u0442\u0430\u043d\u0442\u044b","text":""},{"location":"api/data/#boston_columns","title":"<code>BOSTON_COLUMNS</code>","text":"<pre><code>BOSTON_COLUMNS: list[str]\n</code></pre> <p>\u0421\u043f\u0438\u0441\u043e\u043a \u0438\u0437 14 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0439 \u043a\u043e\u043b\u043e\u043d\u043e\u043a \u0434\u0430\u0442\u0430\u0441\u0435\u0442\u0430 Boston Housing: <code>crim</code>, <code>zn</code>, <code>indus</code>, <code>chas</code>, <code>nox</code>, <code>rm</code>, <code>age</code>, <code>dis</code>, <code>rad</code>, <code>tax</code>, <code>ptratio</code>, <code>b</code>, <code>lstat</code>, <code>medv</code>.</p>"},{"location":"api/data/#_2","title":"\u0424\u0443\u043d\u043a\u0446\u0438\u0438","text":""},{"location":"api/data/#load_raw_housing","title":"<code>load_raw_housing</code>","text":"<pre><code>def load_raw_housing(path: str | Path | None = None) -&gt; pd.DataFrame\n</code></pre> <p>\u0417\u0430\u0433\u0440\u0443\u0436\u0430\u0435\u0442 \u0441\u044b\u0440\u043e\u0439 \u0434\u0430\u0442\u0430\u0441\u0435\u0442 Boston Housing \u0438\u0437 \u0444\u0430\u0439\u043b\u0430 (\u043f\u0440\u043e\u0431\u0435\u043b-\u0440\u0430\u0437\u0434\u0435\u043b\u0451\u043d\u043d\u044b\u0439 CSV \u0431\u0435\u0437 \u0437\u0430\u0433\u043e\u043b\u043e\u0432\u043a\u0430).</p> <p>\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b:</p> \u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440 \u0422\u0438\u043f \u041f\u043e \u0443\u043c\u043e\u043b\u0447\u0430\u043d\u0438\u044e \u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 <code>path</code> <code>str \\| Path \\| None</code> <code>None</code> \u041f\u0443\u0442\u044c \u043a CSV-\u0444\u0430\u0439\u043b\u0443. \u0415\u0441\u043b\u0438 <code>None</code> - \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u0442\u0441\u044f <code>data/raw/housing.csv</code> \u043e\u0442\u043d\u043e\u0441\u0438\u0442\u0435\u043b\u044c\u043d\u043e \u043a\u043e\u0440\u043d\u044f \u043f\u0440\u043e\u0435\u043a\u0442\u0430 <p>\u0412\u043e\u0437\u0432\u0440\u0430\u0449\u0430\u0435\u0442: <code>pd.DataFrame</code> \u0441 14 \u043a\u043e\u043b\u043e\u043d\u043a\u0430\u043c\u0438 \u0438 ~506 \u0441\u0442\u0440\u043e\u043a\u0430\u043c\u0438.</p> <p>\u041f\u0440\u0438\u043c\u0435\u0440:</p> <pre><code>from housing.data.load import load_raw_housing\n\n# \u041f\u043e \u0443\u043c\u043e\u043b\u0447\u0430\u043d\u0438\u044e\ndf = load_raw_housing()\nprint(df.shape)  # (506, 14)\nprint(df.columns.tolist())\n# ['crim', 'zn', ..., 'medv']\n\n# \u042f\u0432\u043d\u044b\u0439 \u043f\u0443\u0442\u044c\ndf = load_raw_housing(\"data/raw/housing.csv\")\n</code></pre>"},{"location":"api/data/#_3","title":"\u0424\u043e\u0440\u043c\u0430\u0442 \u0434\u0430\u043d\u043d\u044b\u0445","text":"\u041a\u043e\u043b\u043e\u043d\u043a\u0430 \u0422\u0438\u043f \u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 <code>crim</code> float \u0423\u0440\u043e\u0432\u0435\u043d\u044c \u043f\u0440\u0435\u0441\u0442\u0443\u043f\u043d\u043e\u0441\u0442\u0438 (\u043d\u0430 \u0434\u0443\u0448\u0443 \u043d\u0430\u0441\u0435\u043b\u0435\u043d\u0438\u044f) <code>zn</code> float \u0414\u043e\u043b\u044f \u0436\u0438\u043b\u043e\u0439 \u0437\u043e\u043d\u044b \u043f\u043e\u0434 \u0443\u0447\u0430\u0441\u0442\u043a\u0438 &gt;25 000 \u043a\u0432.\u0444\u0443\u0442 <code>indus</code> float \u0414\u043e\u043b\u044f \u043d\u0435\u0436\u0438\u043b\u044b\u0445 \u043a\u043e\u043c\u043c\u0435\u0440\u0447\u0435\u0441\u043a\u0438\u0445 \u0430\u043a\u0440\u043e\u0432 <code>chas</code> int 1 \u0435\u0441\u043b\u0438 \u0443\u0447\u0430\u0441\u0442\u043e\u043a \u0433\u0440\u0430\u043d\u0438\u0447\u0438\u0442 \u0441 \u0440\u0435\u043a\u043e\u0439 \u0427\u0430\u0440\u043b\u044c\u0437 <code>nox</code> float \u041a\u043e\u043d\u0446\u0435\u043d\u0442\u0440\u0430\u0446\u0438\u044f \u043e\u043a\u0441\u0438\u0434\u043e\u0432 \u0430\u0437\u043e\u0442\u0430 (pphm) <code>rm</code> float \u0421\u0440\u0435\u0434\u043d\u0435\u0435 \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u043a\u043e\u043c\u043d\u0430\u0442 \u0432 \u0434\u043e\u043c\u0435 <code>age</code> float \u0414\u043e\u043b\u044f \u0434\u043e\u043c\u043e\u0432, \u043f\u043e\u0441\u0442\u0440\u043e\u0435\u043d\u043d\u044b\u0445 \u0434\u043e 1940 \u0433. <code>dis</code> float \u0421\u0440\u0435\u0434\u043d\u0435\u0432\u0437\u0432\u0435\u0448\u0435\u043d\u043d\u043e\u0435 \u0440\u0430\u0441\u0441\u0442\u043e\u044f\u043d\u0438\u0435 \u0434\u043e 5 \u0446\u0435\u043d\u0442\u0440\u043e\u0432 \u0437\u0430\u043d\u044f\u0442\u043e\u0441\u0442\u0438 <code>rad</code> int \u0418\u043d\u0434\u0435\u043a\u0441 \u0434\u043e\u0441\u0442\u0443\u043f\u043d\u043e\u0441\u0442\u0438 \u0440\u0430\u0434\u0438\u0430\u043b\u044c\u043d\u044b\u0445 \u0448\u043e\u0441\u0441\u0435 <code>tax</code> float \u0421\u0442\u0430\u0432\u043a\u0430 \u043d\u0430\u043b\u043e\u0433\u0430 \u043d\u0430 \u0438\u043c\u0443\u0449\u0435\u0441\u0442\u0432\u043e (\u043d\u0430 $10 000) <code>ptratio</code> float \u0421\u043e\u043e\u0442\u043d\u043e\u0448\u0435\u043d\u0438\u0435 \u0443\u0447\u0435\u043d\u0438\u043a\u043e\u0432/\u0443\u0447\u0438\u0442\u0435\u043b\u0435\u0439 \u043f\u043e \u0433\u043e\u0440\u043e\u0434\u0443 <code>b</code> float 1000(Bk - 0.63)\u00b2 (Bk - \u0434\u043e\u043b\u044f \u0430\u0444\u0440\u043e\u0430\u043c\u0435\u0440\u0438\u043a\u0430\u043d\u0446\u0435\u0432) <code>lstat</code> float % \u043d\u0430\u0441\u0435\u043b\u0435\u043d\u0438\u044f \u0441 \u043d\u0438\u0437\u043a\u0438\u043c \u0441\u0442\u0430\u0442\u0443\u0441\u043e\u043c <code>medv</code> float \u0422\u0430\u0440\u0433\u0435\u0442: \u043c\u0435\u0434\u0438\u0430\u043d\u043d\u0430\u044f \u0441\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u044c \u0436\u0438\u043b\u044c\u044f (\u0442\u044b\u0441. $)"},{"location":"api/features/","title":"housing.features - \u0418\u043d\u0436\u0435\u043d\u0435\u0440\u0438\u044f \u043f\u0440\u0438\u0437\u043d\u0430\u043a\u043e\u0432","text":"<p>\u041c\u043e\u0434\u0443\u043b\u044c: <code>src/housing/features/build.py</code></p>"},{"location":"api/features/#_1","title":"\u041a\u043e\u043d\u0441\u0442\u0430\u043d\u0442\u044b","text":""},{"location":"api/features/#feature_columns","title":"<code>FEATURE_COLUMNS</code>","text":"<pre><code>FEATURE_COLUMNS: list[str]\n</code></pre> <p>\u0421\u043f\u0438\u0441\u043e\u043a 13 \u043f\u0440\u0438\u0437\u043d\u0430\u043a\u043e\u0432: <code>['crim', 'zn', 'indus', 'chas', 'nox', 'rm', 'age', 'dis', 'rad', 'tax', 'ptratio', 'b', 'lstat']</code></p>"},{"location":"api/features/#target_column","title":"<code>TARGET_COLUMN</code>","text":"<pre><code>TARGET_COLUMN: str  # = \"medv\"\n</code></pre>"},{"location":"api/features/#_2","title":"\u0424\u0443\u043d\u043a\u0446\u0438\u0438","text":""},{"location":"api/features/#get_feature_pipeline","title":"<code>get_feature_pipeline</code>","text":"<pre><code>def get_feature_pipeline() -&gt; Pipeline\n</code></pre> <p>\u0421\u043e\u0437\u0434\u0430\u0451\u0442 sklearn Pipeline \u0434\u043b\u044f \u0442\u0440\u0430\u043d\u0441\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u0438 \u043f\u0440\u0438\u0437\u043d\u0430\u043a\u043e\u0432.</p> <p>\u0422\u0435\u043a\u0443\u0449\u0438\u0439 \u043f\u0430\u0439\u043f\u043b\u0430\u0439\u043d: \u043e\u0434\u043d\u0430 \u0441\u0442\u0443\u043f\u0435\u043d\u044c - <code>StandardScaler</code> (\u043d\u043e\u0440\u043c\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u044f).</p> <p>\u0412\u043e\u0437\u0432\u0440\u0430\u0449\u0430\u0435\u0442: <code>sklearn.pipeline.Pipeline</code></p> <p>\u041f\u0440\u0438\u043c\u0435\u0440:</p> <pre><code>from housing.features.build import get_feature_pipeline\n\nfeature_pipeline = get_feature_pipeline()\nprint(feature_pipeline.steps)\n# [('scaler', StandardScaler())]\n\nX_scaled = feature_pipeline.fit_transform(X_train)\n</code></pre>"},{"location":"api/features/#split_features_target","title":"<code>split_features_target</code>","text":"<pre><code>def split_features_target(df: pd.DataFrame) -&gt; tuple[pd.DataFrame, pd.Series]\n</code></pre> <p>\u0420\u0430\u0437\u0434\u0435\u043b\u044f\u0435\u0442 DataFrame \u043d\u0430 \u043c\u0430\u0442\u0440\u0438\u0446\u0443 \u043f\u0440\u0438\u0437\u043d\u0430\u043a\u043e\u0432 X \u0438 \u0432\u0435\u043a\u0442\u043e\u0440 \u0442\u0430\u0440\u0433\u0435\u0442\u0430 y.</p> <p>\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b:</p> \u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440 \u0422\u0438\u043f \u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 <code>df</code> <code>pd.DataFrame</code> DataFrame \u0441 \u043a\u043e\u043b\u043e\u043d\u043a\u0430\u043c\u0438 \u043f\u0440\u0438\u0437\u043d\u0430\u043a\u043e\u0432 \u0438 \u0442\u0430\u0440\u0433\u0435\u0442\u0430 <p>\u0412\u043e\u0437\u0432\u0440\u0430\u0449\u0430\u0435\u0442: \u041a\u043e\u0440\u0442\u0435\u0436 <code>(X, y)</code>: - <code>X: pd.DataFrame</code> - \u0442\u043e\u043b\u044c\u043a\u043e \u043a\u043e\u043b\u043e\u043d\u043a\u0438 \u0438\u0437 <code>FEATURE_COLUMNS</code> (13 \u043a\u043e\u043b\u043e\u043d\u043e\u043a) - <code>y: pd.Series</code> - \u043a\u043e\u043b\u043e\u043d\u043a\u0430 <code>TARGET_COLUMN</code> (<code>medv</code>)</p> <p>\u041f\u0440\u0438\u043c\u0435\u0440:</p> <pre><code>from housing.data.load import load_raw_housing\nfrom housing.features.build import split_features_target\n\ndf = load_raw_housing()\nX, y = split_features_target(df)\nprint(X.shape)   # (506, 13)\nprint(y.shape)   # (506,)\nprint(y.name)    # 'medv'\n</code></pre>"},{"location":"api/features/#_3","title":"\u041f\u0440\u0438\u043c\u0435\u0440 \u043f\u043e\u043b\u043d\u043e\u0433\u043e \u043f\u0430\u0439\u043f\u043b\u0430\u0439\u043d\u0430","text":"<pre><code>import pandas as pd\nfrom sklearn.model_selection import train_test_split\nfrom housing.data.load import load_raw_housing\nfrom housing.features.build import get_feature_pipeline, split_features_target\n\n# \u0417\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u0434\u0430\u043d\u043d\u044b\u0435\ndf = load_raw_housing()\nX, y = split_features_target(df)\n\n# \u0420\u0430\u0437\u0434\u0435\u043b\u0438\u0442\u044c \u043d\u0430 train/test\nX_train, X_test, y_train, y_test = train_test_split(\n    X, y, test_size=0.2, random_state=42\n)\n\n# \u041f\u043e\u043b\u0443\u0447\u0438\u0442\u044c \u043f\u0430\u0439\u043f\u043b\u0430\u0439\u043d \u0438 \u0442\u0440\u0430\u043d\u0441\u0444\u043e\u0440\u043c\u0438\u0440\u043e\u0432\u0430\u0442\u044c\nfeature_pipeline = get_feature_pipeline()\nX_train_scaled = feature_pipeline.fit_transform(X_train)\nX_test_scaled = feature_pipeline.transform(X_test)\n</code></pre>"},{"location":"api/models/","title":"housing.models - \u041e\u0431\u0443\u0447\u0435\u043d\u0438\u0435 \u043c\u043e\u0434\u0435\u043b\u0435\u0439","text":"<p>\u041c\u043e\u0434\u0443\u043b\u044c: <code>src/housing/models/train.py</code></p>"},{"location":"api/models/#_1","title":"\u0424\u0443\u043d\u043a\u0446\u0438\u0438","text":""},{"location":"api/models/#compute_metrics","title":"<code>compute_metrics</code>","text":"<pre><code>def compute_metrics(y_true: np.ndarray, y_pred: np.ndarray) -&gt; dict[str, float]\n</code></pre> <p>\u0412\u044b\u0447\u0438\u0441\u043b\u044f\u0435\u0442 \u0441\u0442\u0430\u043d\u0434\u0430\u0440\u0442\u043d\u044b\u0439 \u043d\u0430\u0431\u043e\u0440 \u0440\u0435\u0433\u0440\u0435\u0441\u0441\u0438\u043e\u043d\u043d\u044b\u0445 \u043c\u0435\u0442\u0440\u0438\u043a.</p> <p>\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b:</p> \u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440 \u0422\u0438\u043f \u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 <code>y_true</code> <code>np.ndarray</code> \u0418\u0441\u0442\u0438\u043d\u043d\u044b\u0435 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u044f <code>y_pred</code> <code>np.ndarray</code> \u041f\u0440\u0435\u0434\u0441\u043a\u0430\u0437\u0430\u043d\u043d\u044b\u0435 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u044f <p>\u0412\u043e\u0437\u0432\u0440\u0430\u0449\u0430\u0435\u0442: <code>dict</code> \u0441 \u043a\u043b\u044e\u0447\u0430\u043c\u0438:</p> \u041a\u043b\u044e\u0447 \u0424\u043e\u0440\u043c\u0443\u043b\u0430 \u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 <code>rmse</code> \u221aMSE Root Mean Squared Error <code>mae</code> mean(|y \u2212 \u0177|) Mean Absolute Error <code>r2</code> 1 \u2212 SS_res/SS_tot \u041a\u043e\u044d\u0444\u0444\u0438\u0446\u0438\u0435\u043d\u0442 \u0434\u0435\u0442\u0435\u0440\u043c\u0438\u043d\u0430\u0446\u0438\u0438 <p>\u041f\u0440\u0438\u043c\u0435\u0440:</p> <pre><code>from housing.models.train import compute_metrics\nimport numpy as np\n\ny_true = np.array([3.0, -0.5, 2.0, 7.0])\ny_pred = np.array([2.5, 0.0, 2.0, 8.0])\n\nmetrics = compute_metrics(y_true, y_pred)\nprint(metrics)\n# {'rmse': 0.612, 'mae': 0.5, 'r2': 0.948}\n</code></pre>"},{"location":"api/models/#train_and_log_model","title":"<code>train_and_log_model</code>","text":"<pre><code>def train_and_log_model(\n    model_name: str,\n    model: BaseEstimator,\n    feature_pipeline: Pipeline,\n    X_train: pd.DataFrame,\n    y_train: pd.Series,\n    X_val: pd.DataFrame,\n    y_val: pd.Series,\n    extra_params: dict[str, Any] | None = None,\n) -&gt; tuple[str, float]\n</code></pre> <p>\u041e\u0431\u0443\u0447\u0430\u0435\u0442 \u043c\u043e\u0434\u0435\u043b\u044c, \u0441\u043e\u0431\u0438\u0440\u0430\u0435\u0442 \u043c\u0435\u0442\u0440\u0438\u043a\u0438 \u0438 \u043b\u043e\u0433\u0438\u0440\u0443\u0435\u0442 \u0432\u0441\u0451 \u0432 MLflow.</p> <p>\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b:</p> \u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440 \u0422\u0438\u043f \u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 <code>model_name</code> <code>str</code> \u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0434\u043b\u044f MLflow run <code>model</code> <code>BaseEstimator</code> Sklearn-\u0441\u043e\u0432\u043c\u0435\u0441\u0442\u0438\u043c\u0430\u044f \u043c\u043e\u0434\u0435\u043b\u044c <code>feature_pipeline</code> <code>Pipeline</code> Sklearn Pipeline \u0434\u043b\u044f \u0442\u0440\u0430\u043d\u0441\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u0438 \u043f\u0440\u0438\u0437\u043d\u0430\u043a\u043e\u0432 <code>X_train</code> <code>pd.DataFrame</code> \u041e\u0431\u0443\u0447\u0430\u044e\u0449\u0438\u0435 \u043f\u0440\u0438\u0437\u043d\u0430\u043a\u0438 <code>y_train</code> <code>pd.Series</code> \u041e\u0431\u0443\u0447\u0430\u044e\u0449\u0438\u0439 \u0442\u0430\u0440\u0433\u0435\u0442 <code>X_val</code> <code>pd.DataFrame</code> \u0412\u0430\u043b\u0438\u0434\u0430\u0446\u0438\u043e\u043d\u043d\u044b\u0435 \u043f\u0440\u0438\u0437\u043d\u0430\u043a\u0438 <code>y_val</code> <code>pd.Series</code> \u0412\u0430\u043b\u0438\u0434\u0430\u0446\u0438\u043e\u043d\u043d\u044b\u0439 \u0442\u0430\u0440\u0433\u0435\u0442 <code>extra_params</code> <code>dict \\| None</code> \u0414\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u0435 \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b \u0434\u043b\u044f \u043b\u043e\u0433\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f \u0432 MLflow <p>\u0414\u0435\u0439\u0441\u0442\u0432\u0438\u044f:</p> <ol> <li>\u0421\u0442\u0440\u043e\u0438\u0442 \u043f\u043e\u043b\u043d\u044b\u0439 Pipeline: <code>feature_pipeline \u2192 model</code></li> <li>\u041e\u0431\u0443\u0447\u0430\u0435\u0442 \u043d\u0430 <code>(X_train, y_train)</code></li> <li>\u0412\u044b\u0447\u0438\u0441\u043b\u044f\u0435\u0442 \u043c\u0435\u0442\u0440\u0438\u043a\u0438 \u043d\u0430 train \u0438 val</li> <li>\u041b\u043e\u0433\u0438\u0440\u0443\u0435\u0442 \u0432 MLflow: \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b, \u043c\u0435\u0442\u0440\u0438\u043a\u0438, \u0430\u0440\u0442\u0435\u0444\u0430\u043a\u0442 \u043c\u043e\u0434\u0435\u043b\u0438</li> </ol> <p>\u0412\u043e\u0437\u0432\u0440\u0430\u0449\u0430\u0435\u0442: \u041a\u043e\u0440\u0442\u0435\u0436 <code>(run_id, val_rmse)</code></p> <p>\u041f\u0440\u0438\u043c\u0435\u0440:</p> <pre><code>from sklearn.ensemble import RandomForestRegressor\nfrom housing.features.build import get_feature_pipeline\nfrom housing.models.train import train_and_log_model\n\nmodel = RandomForestRegressor(n_estimators=100, max_depth=10, random_state=42)\nfeature_pipeline = get_feature_pipeline()\n\nrun_id, val_rmse = train_and_log_model(\n    model_name=\"random_forest\",\n    model=model,\n    feature_pipeline=feature_pipeline,\n    X_train=X_train,\n    y_train=y_train,\n    X_val=X_val,\n    y_val=y_val,\n    extra_params={\"n_estimators\": 100, \"max_depth\": 10},\n)\nprint(f\"Run: {run_id}, Val RMSE: {val_rmse:.4f}\")\n</code></pre>"},{"location":"api/models/#_2","title":"\u041f\u043e\u0434\u0434\u0435\u0440\u0436\u0438\u0432\u0430\u0435\u043c\u044b\u0435 \u043c\u043e\u0434\u0435\u043b\u0438","text":"<code>kind</code> \u041a\u043b\u0430\u0441\u0441 sklearn \u0413\u0438\u043f\u0435\u0440\u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b <code>linear_regression</code> <code>LinearRegression</code> - <code>ridge</code> <code>Ridge</code> <code>alpha</code> <code>random_forest</code> <code>RandomForestRegressor</code> <code>n_estimators</code>, <code>max_depth</code> <p>\u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u043c\u043e\u0434\u0435\u043b\u0438 \u043f\u043e <code>kind</code> \u0432\u044b\u043f\u043e\u043b\u043d\u044f\u0435\u0442\u0441\u044f \u0432 <code>scripts/train.py</code>.</p>"},{"location":"api/tracking/","title":"housing.tracking - \u0422\u0440\u0435\u043a\u0438\u043d\u0433 \u044d\u043a\u0441\u043f\u0435\u0440\u0438\u043c\u0435\u043d\u0442\u043e\u0432","text":"<p>\u041c\u043e\u0434\u0443\u043b\u044c: <code>src/housing/tracking/</code></p> <p>\u041f\u0440\u0435\u0434\u043e\u0441\u0442\u0430\u0432\u043b\u044f\u0435\u0442 \u0442\u0440\u0438 \u043f\u0430\u0442\u0442\u0435\u0440\u043d\u0430 \u0438\u043d\u0442\u0435\u0433\u0440\u0430\u0446\u0438\u0438 \u0441 MLflow \u0438 \u043e\u0434\u0438\u043d \u0441 ClearML.</p>"},{"location":"api/tracking/#mlflow-experimenttracker-context-manager","title":"MLflow: ExperimentTracker (context manager)","text":"<p>\u041c\u043e\u0434\u0443\u043b\u044c: <code>src/housing/tracking/context.py</code></p> <pre><code>class ExperimentTracker:\n    def __init__(\n        self,\n        experiment_name: str,\n        run_name: str | None = None,\n        tags: dict[str, str] | None = None,\n    ) -&gt; None\n</code></pre> <p>\u041a\u043e\u043d\u0442\u0435\u043a\u0441\u0442\u043d\u044b\u0439 \u043c\u0435\u043d\u0435\u0434\u0436\u0435\u0440 \u0434\u043b\u044f MLflow-\u0437\u0430\u043f\u0443\u0441\u043a\u0430.</p> <p>\u041c\u0435\u0442\u043e\u0434\u044b:</p> \u041c\u0435\u0442\u043e\u0434 \u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 <code>log_param(key, value)</code> \u0417\u0430\u043b\u043e\u0433\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043e\u0434\u0438\u043d \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440 <code>log_params(params_dict)</code> \u0417\u0430\u043b\u043e\u0433\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0441\u043b\u043e\u0432\u0430\u0440\u044c \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u043e\u0432 <code>log_metric(key, value)</code> \u0417\u0430\u043b\u043e\u0433\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043e\u0434\u043d\u0443 \u043c\u0435\u0442\u0440\u0438\u043a\u0443 <code>log_metrics(metrics_dict)</code> \u0417\u0430\u043b\u043e\u0433\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0441\u043b\u043e\u0432\u0430\u0440\u044c \u043c\u0435\u0442\u0440\u0438\u043a <code>set_tag(key, value)</code> \u0423\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c \u043e\u0434\u0438\u043d \u0442\u0435\u0433 <code>set_tags(tags_dict)</code> \u0423\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c \u0441\u043b\u043e\u0432\u0430\u0440\u044c \u0442\u0435\u0433\u043e\u0432 <code>log_model(model, artifact_path)</code> \u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c \u043c\u043e\u0434\u0435\u043b\u044c \u043a\u0430\u043a \u0430\u0440\u0442\u0435\u0444\u0430\u043a\u0442 <code>end_run()</code> \u0417\u0430\u0432\u0435\u0440\u0448\u0438\u0442\u044c MLflow-\u0437\u0430\u043f\u0443\u0441\u043a <p>\u041f\u0440\u0438\u043c\u0435\u0440:</p> <pre><code>from housing.tracking import ExperimentTracker\n\nwith ExperimentTracker(\n    experiment_name=\"boston-housing\",\n    run_name=\"ridge-alpha-0.5\",\n    tags={\"stage\": \"training\", \"model\": \"ridge\"},\n) as tracker:\n    tracker.log_params({\"alpha\": 0.5, \"model_type\": \"ridge\"})\n    # ... \u043e\u0431\u0443\u0447\u0435\u043d\u0438\u0435 ...\n    tracker.log_metrics({\"val_rmse\": 4.2, \"val_r2\": 0.71})\n    tracker.log_model(trained_pipeline, artifact_path=\"model\")\n</code></pre>"},{"location":"api/tracking/#mlflow-mlflow_run-decorator","title":"MLflow: @mlflow_run (decorator)","text":"<p>\u041c\u043e\u0434\u0443\u043b\u044c: <code>src/housing/tracking/decorators.py</code></p> <pre><code>def mlflow_run(\n    experiment_name: str | None = None,\n    run_name: str | None = None,\n    tags: dict[str, str] | None = None,\n) -&gt; Callable\n</code></pre> <p>\u0414\u0435\u043a\u043e\u0440\u0430\u0442\u043e\u0440, \u043e\u0431\u043e\u0440\u0430\u0447\u0438\u0432\u0430\u044e\u0449\u0438\u0439 \u0444\u0443\u043d\u043a\u0446\u0438\u044e \u0432 MLflow-\u0437\u0430\u043f\u0443\u0441\u043a.</p> <p>\u041f\u0440\u0438\u043c\u0435\u0440:</p> <pre><code>from housing.tracking import mlflow_run\n\n@mlflow_run(\n    experiment_name=\"boston-housing\",\n    run_name=\"ridge-experiment\",\n    tags={\"model\": \"ridge\"},\n)\ndef train_ridge(X_train, y_train, X_val, y_val, alpha=1.0):\n    import mlflow\n    model = Ridge(alpha=alpha)\n    model.fit(X_train, y_train)\n    val_rmse = compute_rmse(model, X_val, y_val)\n    mlflow.log_metric(\"val_rmse\", val_rmse)\n    return model\n</code></pre>"},{"location":"api/tracking/#mlflow","title":"MLflow: \u0443\u0442\u0438\u043b\u0438\u0442\u044b","text":"<p>\u041c\u043e\u0434\u0443\u043b\u044c: <code>src/housing/tracking/utils.py</code></p>"},{"location":"api/tracking/#compare_runs","title":"<code>compare_runs</code>","text":"<pre><code>def compare_runs(experiment_name: str) -&gt; pd.DataFrame\n</code></pre> <p>\u0412\u043e\u0437\u0432\u0440\u0430\u0449\u0430\u0435\u0442 DataFrame \u0441\u043e \u0432\u0441\u0435\u043c\u0438 \u043f\u0440\u043e\u0433\u043e\u043d\u0430\u043c\u0438 \u044d\u043a\u0441\u043f\u0435\u0440\u0438\u043c\u0435\u043d\u0442\u0430.</p> <pre><code>from housing.tracking.utils import compare_runs\n\ndf = compare_runs(\"boston-housing\")\nprint(df[[\"run_name\", \"val_rmse\", \"val_r2\"]].sort_values(\"val_rmse\"))\n</code></pre>"},{"location":"api/tracking/#get_best_run","title":"<code>get_best_run</code>","text":"<pre><code>def get_best_run(\n    experiment_name: str,\n    metric_name: str,\n    mode: str = \"min\",\n) -&gt; str\n</code></pre> <p>\u0412\u043e\u0437\u0432\u0440\u0430\u0449\u0430\u0435\u0442 <code>run_id</code> \u043b\u0443\u0447\u0448\u0435\u0433\u043e \u043f\u0440\u043e\u0433\u043e\u043d\u0430 \u043f\u043e \u0443\u043a\u0430\u0437\u0430\u043d\u043d\u043e\u0439 \u043c\u0435\u0442\u0440\u0438\u043a\u0435.</p> \u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440 \u0422\u0438\u043f \u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 <code>experiment_name</code> <code>str</code> \u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u044d\u043a\u0441\u043f\u0435\u0440\u0438\u043c\u0435\u043d\u0442\u0430 <code>metric_name</code> <code>str</code> \u041c\u0435\u0442\u0440\u0438\u043a\u0430 \u0434\u043b\u044f \u0441\u0440\u0430\u0432\u043d\u0435\u043d\u0438\u044f (\u043d\u0430\u043f\u0440\u0438\u043c\u0435\u0440, <code>val_rmse</code>) <code>mode</code> <code>str</code> <code>\"min\"</code> \u0438\u043b\u0438 <code>\"max\"</code> <pre><code>from housing.tracking.utils import get_best_run\n\nbest_id = get_best_run(\"boston-housing\", metric_name=\"val_rmse\", mode=\"min\")\nprint(f\"Best run: {best_id}\")\n</code></pre>"},{"location":"api/tracking/#search_runs","title":"<code>search_runs</code>","text":"<pre><code>def search_runs(\n    experiment_name: str,\n    filter_string: str = \"\",\n    max_results: int = 100,\n) -&gt; pd.DataFrame\n</code></pre> <p>\u041f\u043e\u0438\u0441\u043a \u043f\u0440\u043e\u0433\u043e\u043d\u043e\u0432 \u0441 \u0444\u0438\u043b\u044c\u0442\u0440\u043e\u043c MLflow.</p> <pre><code>from housing.tracking.utils import search_runs\n\n# \u041d\u0430\u0439\u0442\u0438 \u0432\u0441\u0435 \u043f\u0440\u043e\u0433\u043e\u043d\u044b \u0441 val_rmse &lt; 4.0\ndf = search_runs(\n    \"boston-housing\",\n    filter_string=\"metrics.val_rmse &lt; 4.0\",\n)\n</code></pre>"},{"location":"api/tracking/#clearml-clearmltracker-context-manager","title":"ClearML: ClearMLTracker (context manager)","text":"<p>\u041c\u043e\u0434\u0443\u043b\u044c: <code>src/housing/tracking/clearml.py</code></p> <pre><code>class ClearMLTracker:\n    def __init__(\n        self,\n        cfg: DictConfig,\n        stage: str,\n        task_type: str = \"training\",\n        extra_tags: list[str] | None = None,\n    ) -&gt; None\n</code></pre> <p>\u041a\u043e\u043d\u0442\u0435\u043a\u0441\u0442\u043d\u044b\u0439 \u043c\u0435\u043d\u0435\u0434\u0436\u0435\u0440 \u0434\u043b\u044f ClearML \u0437\u0430\u0434\u0430\u0447\u0438. \u0410\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u0438 \u0438\u043d\u0438\u0446\u0438\u0430\u043b\u0438\u0437\u0438\u0440\u0443\u0435\u0442 \u0438 \u0437\u0430\u043a\u0440\u044b\u0432\u0430\u0435\u0442 Task.</p> <p>\u041c\u0435\u0442\u043e\u0434\u044b:</p> \u041c\u0435\u0442\u043e\u0434 \u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 <code>connect_dict(name, payload)</code> \u0417\u0430\u043b\u043e\u0433\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0441\u043b\u043e\u0432\u0430\u0440\u044c \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u043e\u0432 <code>log_metrics(metrics, series, iteration)</code> \u0417\u0430\u043b\u043e\u0433\u0438\u0440\u043e\u0432\u0430\u0442\u044c scalar-\u043c\u0435\u0442\u0440\u0438\u043a\u0438 <code>log_text(message)</code> \u0422\u0435\u043a\u0441\u0442\u043e\u0432\u044b\u0439 \u043b\u043e\u0433 <code>upload_artifact(name, artifact)</code> \u0417\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u0444\u0430\u0439\u043b/\u043e\u0431\u044a\u0435\u043a\u0442 \u043a\u0430\u043a \u0430\u0440\u0442\u0435\u0444\u0430\u043a\u0442 <code>register_model(model_path, model_name, metadata)</code> \u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043c\u043e\u0434\u0435\u043b\u044c \u0432 ClearML Registry <p>\u041f\u0440\u0438\u043c\u0435\u0440:</p> <pre><code>from housing.tracking import ClearMLTracker\n\nwith ClearMLTracker(cfg, stage=\"train\", task_type=\"training\") as tracker:\n    tracker.connect_dict(\"train_params\", {\"alpha\": 1.0, \"model\": \"ridge\"})\n    # ... \u043e\u0431\u0443\u0447\u0435\u043d\u0438\u0435 ...\n    tracker.log_metrics(\n        metrics={\"val_rmse\": 4.2, \"val_r2\": 0.71},\n        series=\"validation\",\n        iteration=0,\n    )\n    tracker.upload_artifact(\"model\", \"models/ridge.joblib\")\n    tracker.register_model(\n        model_path=\"models/ridge.joblib\",\n        model_name=\"housing-ridge\",\n        metadata={\"val_rmse\": 4.2},\n    )\n</code></pre>"},{"location":"api/tracking/#compare_clearml_experiments","title":"<code>compare_clearml_experiments</code>","text":"<pre><code>def compare_clearml_experiments(\n    project_name: str,\n    metric_name: str = \"val_rmse\",\n) -&gt; pd.DataFrame\n</code></pre> <p>\u0421\u0440\u0430\u0432\u043d\u0435\u043d\u0438\u0435 \u0432\u0441\u0435\u0445 \u0437\u0430\u0434\u0430\u0447 \u0432 ClearML-\u043f\u0440\u043e\u0435\u043a\u0442\u0435.</p>"},{"location":"api/tracking/#compare_registered_models","title":"<code>compare_registered_models</code>","text":"<pre><code>def compare_registered_models(\n    model_name: str,\n    project_name: str,\n    max_results: int = 50,\n) -&gt; pd.DataFrame\n</code></pre> <p>\u0421\u0440\u0430\u0432\u043d\u0435\u043d\u0438\u0435 \u0432\u0435\u0440\u0441\u0438\u0439 \u043c\u043e\u0434\u0435\u043b\u0438 \u0432 ClearML Registry.</p>"}]}