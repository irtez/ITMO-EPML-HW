schema: '2.0'
stages:
  prepare:
    cmd: python scripts/prepare.py
    deps:
    - path: conf/pipeline.yaml
      hash: md5
      md5: c05c66b5465daa0b951d07a007f5ff0b
      size: 1901
    - path: data/raw/housing.csv
      hash: md5
      md5: d4accdce7a25600298819f8e28e8d593
      size: 49082
    - path: scripts/prepare.py
      hash: md5
      md5: 909e2cf241a8d8a8d5a19b3b4f17a653
      size: 2206
    - path: src/housing/config/validation.py
      hash: md5
      md5: e6884b2988634c17c686c3c3c7c0af5b
      size: 4603
    - path: src/housing/data/load.py
      hash: md5
      md5: 06e27392257da94c16d91629172ea486
      size: 1679
    - path: src/housing/pipeline/monitoring.py
      hash: md5
      md5: b157c9dea3310c29cda11d3d314f53ea
      size: 1991
    - path: src/housing/tracking/clearml.py
      hash: md5
      md5: 0909fa2339b6420f97ba4a94dd123ac2
      size: 9275
    params:
      conf/pipeline.yaml:
        prepare.random_state: 42
        prepare.test_size: 0.2
    outs:
    - path: data/processed/test.csv
      hash: md5
      md5: 63ba6aaa77d7d2cb721fd841f3d49775
      size: 7547
    - path: data/processed/train.csv
      hash: md5
      md5: bb1e5bcc9b88e671891c1b4d70509d52
      size: 29661
  train:
    cmd: python scripts/train.py
    deps:
    - path: data/processed/train.csv
      hash: md5
      md5: bb1e5bcc9b88e671891c1b4d70509d52
      size: 29661
    - path: scripts/train.py
      hash: md5
      md5: 364c401bca675f72324a66efb888cd8c
      size: 3117
    - path: src/housing/features/build.py
      hash: md5
      md5: 7c7656776d91dd3afc280f999058246c
      size: 1103
    - path: src/housing/models/train.py
      hash: md5
      md5: c9cbc1b3c1df2b90603af9e1af902dcf
      size: 3263
    params:
      params.yaml:
        train:
          random_state: 42
          models:
            linear_regression: {}
            ridge:
              alpha: 1.0
            random_forest:
              n_estimators: 100
              max_depth: 10
    outs:
    - path: metrics/train_metrics.json
      hash: md5
      md5: f2cc19ead76122bc6eaf17727cb82188
      size: 298
    - path: models/best_model.joblib
      hash: md5
      md5: eef02fff960759bf566e232f3534cc74
      size: 2295936
  evaluate:
    cmd: python scripts/evaluate.py
    deps:
    - path: conf/pipeline.yaml
      hash: md5
      md5: c05c66b5465daa0b951d07a007f5ff0b
      size: 1901
    - path: data/processed/test.csv
      hash: md5
      md5: 63ba6aaa77d7d2cb721fd841f3d49775
      size: 7547
    - path: models/best_model.joblib
      hash: md5
      md5: e1bacf697e4f67dd015990aae88bfe41
      size: 1941264
    - path: scripts/evaluate.py
      hash: md5
      md5: 1292f6a738a64ab7302b7fbd4713e08c
      size: 1690
    - path: src/housing/config/validation.py
      hash: md5
      md5: e6884b2988634c17c686c3c3c7c0af5b
      size: 4603
    - path: src/housing/features/build.py
      hash: md5
      md5: 7c7656776d91dd3afc280f999058246c
      size: 1103
    - path: src/housing/models/train.py
      hash: md5
      md5: c9cbc1b3c1df2b90603af9e1af902dcf
      size: 3263
    - path: src/housing/pipeline/monitoring.py
      hash: md5
      md5: b157c9dea3310c29cda11d3d314f53ea
      size: 1991
    - path: src/housing/tracking/clearml.py
      hash: md5
      md5: 0909fa2339b6420f97ba4a94dd123ac2
      size: 9275
    outs:
    - path: metrics/test_metrics.json
      hash: md5
      md5: 6d3465b1d45d2c6ae679440607f5176c
      size: 88
  train_linear_regression:
    cmd: python scripts/train.py model=linear_regression
    deps:
    - path: conf/model/linear_regression.yaml
      hash: md5
      md5: 5b47fd170a9243897be9105cdb96bc20
      size: 59
    - path: conf/pipeline.yaml
      hash: md5
      md5: c05c66b5465daa0b951d07a007f5ff0b
      size: 1901
    - path: data/processed/train.csv
      hash: md5
      md5: bb1e5bcc9b88e671891c1b4d70509d52
      size: 29661
    - path: scripts/train.py
      hash: md5
      md5: fcc911e555103cb2bcb039857c54d6ed
      size: 5668
    - path: src/housing/config/validation.py
      hash: md5
      md5: e6884b2988634c17c686c3c3c7c0af5b
      size: 4603
    - path: src/housing/features/build.py
      hash: md5
      md5: 7c7656776d91dd3afc280f999058246c
      size: 1103
    - path: src/housing/models/train.py
      hash: md5
      md5: c9cbc1b3c1df2b90603af9e1af902dcf
      size: 3263
    - path: src/housing/pipeline/monitoring.py
      hash: md5
      md5: b157c9dea3310c29cda11d3d314f53ea
      size: 1991
    - path: src/housing/tracking/clearml.py
      hash: md5
      md5: 0909fa2339b6420f97ba4a94dd123ac2
      size: 9275
    params:
      conf/pipeline.yaml:
        train.random_state: 42
        train.val_size: 0.2
    outs:
    - path: metrics/train_linear_regression.json
      hash: md5
      md5: 8b885d91c263f17e2648f14f907d3806
      size: 285
    - path: models/linear_regression.joblib
      hash: md5
      md5: 7c59b35866f0d38f4230ff8d2cc72143
      size: 1897
  train_ridge:
    cmd: python scripts/train.py model=ridge
    deps:
    - path: conf/model/ridge.yaml
      hash: md5
      md5: 1fcef2fcb5e5bf2cd3a68b0bc0656975
      size: 45
    - path: conf/pipeline.yaml
      hash: md5
      md5: c05c66b5465daa0b951d07a007f5ff0b
      size: 1901
    - path: data/processed/train.csv
      hash: md5
      md5: bb1e5bcc9b88e671891c1b4d70509d52
      size: 29661
    - path: scripts/train.py
      hash: md5
      md5: fcc911e555103cb2bcb039857c54d6ed
      size: 5668
    - path: src/housing/config/validation.py
      hash: md5
      md5: e6884b2988634c17c686c3c3c7c0af5b
      size: 4603
    - path: src/housing/features/build.py
      hash: md5
      md5: 7c7656776d91dd3afc280f999058246c
      size: 1103
    - path: src/housing/models/train.py
      hash: md5
      md5: c9cbc1b3c1df2b90603af9e1af902dcf
      size: 3263
    - path: src/housing/pipeline/monitoring.py
      hash: md5
      md5: b157c9dea3310c29cda11d3d314f53ea
      size: 1991
    - path: src/housing/tracking/clearml.py
      hash: md5
      md5: 0909fa2339b6420f97ba4a94dd123ac2
      size: 9275
    params:
      conf/pipeline.yaml:
        train.random_state: 42
        train.val_size: 0.2
    outs:
    - path: metrics/train_ridge.json
      hash: md5
      md5: ca19adc7cacbcbb39920d2d9c41c01ac
      size: 276
    - path: models/ridge.joblib
      hash: md5
      md5: 8aa8fd01758236ac0ee40a74325b271c
      size: 1817
  train_random_forest:
    cmd: python scripts/train.py model=random_forest
    deps:
    - path: conf/model/random_forest.yaml
      hash: md5
      md5: f1755002f59aa906031135c0f4f10e14
      size: 84
    - path: conf/pipeline.yaml
      hash: md5
      md5: c05c66b5465daa0b951d07a007f5ff0b
      size: 1901
    - path: data/processed/train.csv
      hash: md5
      md5: bb1e5bcc9b88e671891c1b4d70509d52
      size: 29661
    - path: scripts/train.py
      hash: md5
      md5: fcc911e555103cb2bcb039857c54d6ed
      size: 5668
    - path: src/housing/config/validation.py
      hash: md5
      md5: e6884b2988634c17c686c3c3c7c0af5b
      size: 4603
    - path: src/housing/features/build.py
      hash: md5
      md5: 7c7656776d91dd3afc280f999058246c
      size: 1103
    - path: src/housing/models/train.py
      hash: md5
      md5: c9cbc1b3c1df2b90603af9e1af902dcf
      size: 3263
    - path: src/housing/pipeline/monitoring.py
      hash: md5
      md5: b157c9dea3310c29cda11d3d314f53ea
      size: 1991
    - path: src/housing/tracking/clearml.py
      hash: md5
      md5: 0909fa2339b6420f97ba4a94dd123ac2
      size: 9275
    params:
      conf/pipeline.yaml:
        train.random_state: 42
        train.val_size: 0.2
    outs:
    - path: metrics/train_random_forest.json
      hash: md5
      md5: aceca88c790e88baa890719f033b1881
      size: 285
    - path: models/random_forest.joblib
      hash: md5
      md5: e1bacf697e4f67dd015990aae88bfe41
      size: 1941264
  select_best:
    cmd: python scripts/select_best.py
    deps:
    - path: conf/pipeline.yaml
      hash: md5
      md5: c05c66b5465daa0b951d07a007f5ff0b
      size: 1901
    - path: metrics/train_linear_regression.json
      hash: md5
      md5: 8b885d91c263f17e2648f14f907d3806
      size: 285
    - path: metrics/train_random_forest.json
      hash: md5
      md5: aceca88c790e88baa890719f033b1881
      size: 285
    - path: metrics/train_ridge.json
      hash: md5
      md5: ca19adc7cacbcbb39920d2d9c41c01ac
      size: 276
    - path: models/linear_regression.joblib
      hash: md5
      md5: 7c59b35866f0d38f4230ff8d2cc72143
      size: 1897
    - path: models/random_forest.joblib
      hash: md5
      md5: e1bacf697e4f67dd015990aae88bfe41
      size: 1941264
    - path: models/ridge.joblib
      hash: md5
      md5: 8aa8fd01758236ac0ee40a74325b271c
      size: 1817
    - path: scripts/select_best.py
      hash: md5
      md5: 30418bce2d078fa217d6868f178613ce
      size: 3245
    - path: src/housing/config/validation.py
      hash: md5
      md5: e6884b2988634c17c686c3c3c7c0af5b
      size: 4603
    - path: src/housing/pipeline/monitoring.py
      hash: md5
      md5: b157c9dea3310c29cda11d3d314f53ea
      size: 1991
    - path: src/housing/tracking/clearml.py
      hash: md5
      md5: 0909fa2339b6420f97ba4a94dd123ac2
      size: 9275
    outs:
    - path: metrics/train_metrics.json
      hash: md5
      md5: 3b98d72c91ede81947dd58fa8b4bfb3c
      size: 675
    - path: models/best_model.joblib
      hash: md5
      md5: e1bacf697e4f67dd015990aae88bfe41
      size: 1941264
